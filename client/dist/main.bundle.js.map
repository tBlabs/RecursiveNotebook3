{"version":3,"sources":["webpack:///./src/app/services/auth.service.ts","webpack:///./src/app/services/cqrs/cqrs-bus.service.ts","webpack:///./src/app/services/storage.service.ts","webpack:///./src/app/services/tabs.service.ts","webpack:///./src/app/models/tab.model.ts","webpack:///./src/app/services/cqrs/messages/index.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/common/guid.extension.ts","webpack:///./src/app/components/auth/auth.component.ts","webpack:///./src/app/components/editable-once/editable-once.component.ts","webpack:///./src/app/components/editable-value/editable-value.component.ts","webpack:///./src/app/components/tabs-list/tabs-list.component.ts","webpack:///./src/app/components/tabs/tabs.component.ts","webpack:///./src/app/services/cqrs/messages/AddNoteCommand.ts","webpack:///./src/app/services/cqrs/messages/DeleteNotesCommand.ts","webpack:///./src/app/services/cqrs/messages/GetNotesQuery.ts","webpack:///./src/app/services/cqrs/messages/LoginQuery.ts","webpack:///./src/app/services/cqrs/messages/UpdateNoteCommand.ts","webpack:///./src/app/services/cqrs/messages/UserRegisterQuery.ts","webpack:///./src/app/tabs.module.ts","webpack:///./src/environments/environment.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/components/tabs-list/tabs-list.component.css","webpack:///./src/app/components/tabs/tabs.component.css"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACmD;AACD;AAEC;AACZ;AACgB;AACoB;AAG3E,IAAY,WAAwE;AAApF,WAAY,WAAW;IAAG,qDAAQ;IAAE,6DAAY;IAAE,+DAAa;IAAE,uEAAiB;AAAC,CAAC,EAAxE,WAAW,KAAX,WAAW,QAA6D;AACpF,IAAY,cAA4D;AAAxE,WAAY,cAAc;IAAG,+DAAU;IAAE,+DAAU;IAAE,6EAAiB;AAAC,CAAC,EAA5D,cAAc,KAAd,cAAc,QAA8C;AAIxE,IAAa,WAAW;IAIpB,qBAAoB,KAAc,EAAU,QAAwB;QAAhD,UAAK,GAAL,KAAK,CAAS;QAAU,aAAQ,GAAR,QAAQ,CAAgB;QAF7D,uBAAkB,GAAG,IAAI,qEAAe,CAAU,KAAK,CAAC,CAAC;QAI5D,OAAO,CAAC,GAAG,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,UAAU,EAAE,GAAG,WAAW,GAAG,eAAe,CAAC,CAAC,CAAC;QAE9E,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;IACpD,CAAC;IAEM,gCAAU,GAAjB;QAEI,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE,IAAI,EAAE,CAAC,CAAC;IACnD,CAAC;IAEM,2BAAK,GAAZ,UAAa,KAAa,EAAE,IAAY;QAAxC,iBAgCC;QA9BG,IAAI,GAAG,GAAG,IAAI,qDAAO,EAAE,CAAC;QAExB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,8EAAU,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,UAAC,KAAW;YAEpF,OAAO,CAAC,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC,CAAC;YAE/B,KAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;YAErC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YAE/B,KAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvC,CAAC,EACG,UAAC,GAAG;YAEA,OAAO,CAAC,GAAG,CAAC,OAAO,GAAG,GAAG,CAAC,CAAC;YAE3B,MAAM,CAAC,CAAC,GAAG,CAAC,CACZ,CAAC;gBACG,KAAK,GAAG;oBAAE,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;oBACzC,KAAK,CAAC;gBACV,KAAK,GAAG;oBAAE,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;oBAC1C,KAAK,CAAC;gBACV;oBAAS,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC;oBAC7C,KAAK,CAAC;YACd,CAAC;YAED,KAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;QAEP,MAAM,CAAC,GAAG,CAAC;IACf,CAAC;IAEM,8BAAQ,GAAf,UAAgB,KAAa,EAAE,IAAY;QAA3C,iBA4BC;QA1BG,IAAI,GAAG,GAAG,IAAI,qDAAO,EAAE,CAAC;QAExB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,qFAAiB,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,UAAC,KAAW;YAE3F,OAAO,CAAC,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC,CAAC;YAE/B,KAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;YAErC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;YAEpC,KAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvC,CAAC,EACG,UAAC,GAAG;YAEA,OAAO,CAAC,GAAG,CAAC,OAAO,GAAG,GAAG,CAAC,CAAC;YAE3B,MAAM,CAAC,CAAC,GAAG,CAAC,CACZ,CAAC;gBACG,KAAK,GAAG;oBAAE,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;oBAC1C,KAAK,CAAC;gBACV;oBAAS,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC;oBAC7C,KAAK,CAAC;YACd,CAAC;QACL,CAAC,CAAC,CAAC;QAEP,MAAM,CAAC,GAAG,CAAC;IACf,CAAC;IAEM,4BAAM,GAAb;QAEI,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;QAElC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACxC,CAAC;IACL,kBAAC;AAAD,CAAC;AAtFY,WAAW;IADvB,gFAAU,EAAE;yDAKkB,uEAAO,oBAAP,uEAAO,sDAAoB,wEAAc,oBAAd,wEAAc;GAJ3D,WAAW,CAsFvB;AAtFuB;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfsC;AACnB;AACE;AAGS;AACxC;AAGd,IAAa,OAAO;IAKhB,iBAAoB,KAAW,EAAU,QAAwB;QAA7C,UAAK,GAAL,KAAK,CAAM;QAAU,aAAQ,GAAR,QAAQ,CAAgB;QAHzD,QAAG,GAAW,mCAAmC,CAAC;IAGW,CAAC;IAG/D,sBAAI,GAAX,UAAY,OAA+B;QAEvC,4DAA4D;QAC5D,IAAM,cAAc,GAAG,EAAE,CAAC;QAC1B,cAAc,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC;QACnD,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;QAE5C,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;QAGtC,IAAM,OAAO,GAAG,IAAI,8DAAO,CACvB;YACI,cAAc,EAAE,kBAAkB;YAClC,eAAe,EAAE,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE;SACnD,CAAC,CAAC;QACP,IAAM,OAAO,GAAG,IAAI,qEAAc,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC;QAGzD,MAAM,CAAC,IAAI,CAAC,KAAK;aACZ,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,OAAO,CAAC;aAC7B,GAAG,CAAC,kBAAQ;YAET,EAAE,CAAC,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,CAC3B,CAAC;gBACG,MAAM,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;YAC3B,CAAC;YACD,IAAI,CACJ,CAAC;gBACG,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;QACL,CAAC,CAAC;aACD,EAAE,CAAC,WAAC;YAED,OAAO,CAAC,GAAG,CAAC,8BAA8B,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QACnE,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,CAAC,EAAE,CAAC;YAER,OAAO,CAAC,GAAG,CAAC,iCAAiC,EAAE,CAAC,CAAC,CAAC;YAElD,MAAM,CAAC,2DAAU,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;IACX,CAAC;IACL,cAAC;AAAD,CAAC;AAlDY,OAAO;IADnB,gFAAU,EAAE;yDAMkB,2DAAI,oBAAJ,2DAAI,sDAAoB,wEAAc,oBAAd,wEAAc;GALxD,OAAO,CAkDnB;AAlDmB;;;;;;;;;;;;;;;;;;;;;ACRuB;AAG3C,IAAa,cAAc;IAIvB;QAFQ,uBAAkB,GAAG,eAAe,CAAC;QAIzC,EAAE,CAAC,CAAC,OAAM,CAAC,OAAO,CAAC,KAAK,WAAW,CAAC,CACpC,CAAC;YACG,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;QAC3C,CAAC;IACL,CAAC;IAEM,wCAAe,GAAtB,UAAuB,KAAW;QAE9B,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;IACzD,CAAC;IAEM,wCAAe,GAAtB;QAEI,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;IACzD,CAAC;IACL,qBAAC;AAAD,CAAC;AArBY,cAAc;IAD1B,gFAAU,EAAE;;GACA,cAAc,CAqB1B;AArB0B;;;;;;;;;;;;;;;;;;;;;;;;;ACJiB;AAEM;AAGP;AACN;AAC6E;AAGlH,IAAa,WAAW;IAEpB,qBAAoB,KAAc;QAAd,UAAK,GAAL,KAAK,CAAS;IAAI,CAAC;IAEhC,iCAAW,GAAlB,UAAmB,QAAc;QAE7B,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,iFAAa,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;IACtE,CAAC;IAEM,gCAAU,GAAjB,UAAkB,QAAc,EAAE,KAAa;QAE3C,IAAM,EAAE,GAAS,mDAAI,CAAC,IAAI,EAAE,CAAC;QAC7B,IAAM,GAAG,GAAG,IAAI,8DAAG,EAAE,CAAC;QAEtB,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC;QACZ,GAAG,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACxB,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC;QAClB,GAAG,CAAC,OAAO,GAAG,EAAE,CAAC;QAEjB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,kFAAc,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;aACnF,GAAG,CAAC,cAAM,UAAG,EAAH,CAAG,CAAC,CAAC;IACxB,CAAC;IAEM,4BAAM,GAAb,UAAc,GAAQ;QAElB,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;QAE5B,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,qFAAiB,CAAC,GAAG,CAAC,CAAC,CAAC;IACvD,CAAC;IAEM,4BAAM,GAAb,UAAc,EAAQ;QAElB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,sFAAkB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;IAC/D,CAAC;IACL,kBAAC;AAAD,CAAC;AAlCY,WAAW;IADvB,gFAAU,EAAE;yDAGkB,uEAAO,oBAAP,uEAAO;GAFzB,WAAW,CAkCvB;AAlCuB;;;;;;;;;;ACRxB;AAAA,QAAiB,uCAAuC;;IAAxD;IAMA,CAAC;IAAD,UAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;ACRuD;AACd;AACgB;AACF;AACR;AACE;AAE6D;;;;;;;;ACP/G;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;;;;;;;;;;;;;;ACN+C;AAC4B;AAE9B;AACY;AAEzD,EAAE,CAAC,CAAC,8EAAW,CAAC,UAAU,CAAC,CAAC,CAAC;IAC3B,oFAAc,EAAE,CAAC;AACnB,CAAC;AAED,wHAAsB,EAAE,CAAC,eAAe,CAAC,kEAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;ACTe;AACzB;AAmB1C,IAAa,YAAY;IAIvB,sBAAoB,KAAkB;QAAtC,iBAKC;QALmB,UAAK,GAAL,KAAK,CAAa;QAFtC,aAAQ,GAAY,KAAK,CAAC;QAIxB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC;QAEnC,KAAK,CAAC,kBAAkB,CAAC,SAAS,CAAC,WAAC,IAAI,YAAI,CAAC,QAAQ,GAAG,CAAC,EAAjB,CAAiB,CAAC,CAAC;IAC7D,CAAC;IAED,2BAAI,GAAJ;QAEE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,SAAS,CAAC,UAAC,CAAc;YAExD,EAAE,CAAC,CAAC,CAAC,IAAI,2EAAW,CAAC,YAAY,CAAC,CAClC,CAAC;gBACC,KAAK,CAAC,0BAA0B,CAAC,CAAC;YACpC,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IACH,mBAAC;AAAD,CAAC;AArBY,YAAY;IAjBxB,+EAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACpB,QAAQ,EAAE,uUAYP;QACH,kCAAgC;KACjC,CAAC;yDAK2B,2EAAW,oBAAX,2EAAW;GAJ3B,YAAY,CAqBxB;AArBwB;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrBkB;AACsB;AACL;AACD;AACD;AACjB;AACI;AACF;AACI;AACO;AA2BtD,IAAa,SAAS;IAAtB;IAAyB,CAAC;IAAD,gBAAC;AAAD,CAAC;AAAb,SAAS;IAxBrB,8EAAQ,CAAC;QACR,YAAY,EACZ;YACE,oEAAY;YACZ,sFAAa;SACd;QACD,OAAO,EACP;YACE,gFAAa;YACb,mEAAW;YACX,iEAAU;YACV,gEAAU;SACX;QACD,SAAS,EACT;YACE,gFAAO;YACP,iFAAc;YACd,2EAAW;SACZ;QACD,SAAS,EACT;YACE,oEAAY;SACb;KACF,CAAC;GACW,SAAS,CAAI;AAAJ;;;;;;;;;;AClCf,IAAM,SAAS,GAAS,sCAAsC,CAAC;;;;;;;;;;;;;;;;;;;;;ACFmB;AAC/C;AAE1C,IAAK,iBAIJ;AAJD,WAAK,iBAAiB;IAEpB,+DAAO;IAAE,+DAAO;IAAE,+DAAO;IAAE,yEAAY;IAAE,2EAAa;IACtD,uEAAW;IAAE,qEAAU;AACzB,CAAC,EAJI,iBAAiB,KAAjB,iBAAiB,QAIrB;AAiDD,IAAa,aAAa;IAUxB,uBAAoB,KAAkB;QAAtC,iBASC;QATmB,UAAK,GAAL,KAAK,CAAa;QAR9B,kBAAa,GAAY,IAAI,CAAC;QAC9B,uBAAkB,GAAY,IAAI,CAAC;QACnC,wBAAmB,GAAY,KAAK,CAAC;QACrC,oBAAe,GAAW,OAAO,CAAC;QAClC,uBAAkB,GAAW,UAAU,CAAC;QACxC,oBAAe,GAAY,KAAK,CAAC,CAAC,iFAAiF;QACnH,uBAAkB,GAAY,KAAK,CAAC,CAAC,iFAAiF;QAI5H,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,SAAS,CAAC,UAAC,WAAoB;YAE3D,EAAE,CAAC,CAAC,WAAW,CAAC;gBACd,KAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;YAC/C,IAAI;gBACF,KAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,oCAAY,GAApB,UAAqB,KAAwB;QAE3C,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC;QAC/B,IAAI,CAAC,kBAAkB,GAAG,UAAU,CAAC;QACrC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAC/B,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;QACjC,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;QAEhC,MAAM,CAAC,CAAC,KAAK,CAAC,CACd,CAAC;YACC,QAAQ;YACR,KAAK,iBAAiB,CAAC,OAAO;gBAC5B,aAAa;gBACb,KAAK,CAAC;YACR,KAAK,iBAAiB,CAAC,OAAO;gBAC5B,IAAI,CAAC,eAAe,GAAG,YAAY,CAAC;gBACpC,KAAK,CAAC;YACR,KAAK,iBAAiB,CAAC,OAAO;gBAC5B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;gBAC3B,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;gBAChC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;gBAChC,KAAK,CAAC;YACR,KAAK,iBAAiB,CAAC,YAAY;gBACjC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,KAAK,CAAC;YACR,KAAK,iBAAiB,CAAC,aAAa;gBAClC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;gBAC/B,KAAK,CAAC;YACR,KAAK,iBAAiB,CAAC,WAAW;gBAChC,IAAI,CAAC,kBAAkB,GAAG,gBAAgB,CAAC;gBAC3C,KAAK,CAAC;YACR,KAAK,iBAAiB,CAAC,UAAU;gBAC/B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,KAAK,CAAC;QACV,CAAC;IACH,CAAC;IAGO,6BAAK,GAAb,UAAc,KAAa,EAAE,IAAY;QAAzC,iBAkBC;QAhBC,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;QAE7C,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,SAAS,CAAC,UAAC,MAAmB;YAE1D,MAAM,CAAC,CAAC,MAAM,CAAC,CACf,CAAC;gBACC,KAAK,2EAAW,CAAC,QAAQ;oBAAE,KAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;oBACtE,KAAK,CAAC;gBACR,KAAK,2EAAW,CAAC,YAAY;oBAAE,KAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC;oBAC/E,KAAK,CAAC;gBACR,KAAK,2EAAW,CAAC,aAAa;oBAAE,KAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,aAAa,CAAC,CAAC;oBACjF,KAAK,CAAC;gBACR;oBAAS,KAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;oBACpD,KAAK,CAAC;YACV,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,gCAAQ,GAAhB,UAAiB,KAAa,EAAE,IAAY;QAA5C,iBAgBC;QAdC,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;QAEjD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,SAAS,CAAC,UAAC,MAAsB;YAEhE,MAAM,CAAC,CAAC,MAAM,CAAC,CACf,CAAC;gBACC,KAAK,8EAAc,CAAC,UAAU;oBAAE,KAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;oBAC3E,KAAK,CAAC;gBACR,KAAK,8EAAc,CAAC,UAAU;oBAAE,KAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;oBAC9E,KAAK,CAAC;gBACR;oBAAS,KAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;oBACpD,KAAK,CAAC;YACV,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,8BAAM,GAAd;QAEE,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;QAEpB,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;IAC/C,CAAC;IACH,oBAAC;AAAD,CAAC;AAzGY,aAAa;IA/CzB,+EAAS,CAAC;QACT,QAAQ,EAAE,MAAM;QAChB,QAAQ,EAAE,04CAsCP;QACH,MAAM,EACN,CAAC,iFAGA,CAAC,CAAC,qDAAqD;KACzD,CAAC;yDAW2B,2EAAW,oBAAX,2EAAW;GAV3B,aAAa,CAyGzB;AAzGyB;;;;;;;;;;;;;;;;;;;;;ACxDwD;AA6BlF,IAAa,qBAAqB;IA1BlC;QA4Ba,UAAK,GAAW,IAAI,CAAC;QACrB,gBAAW,GAAW,IAAI,CAAC;QAE1B,eAAU,GAAG,IAAI,2DAAY,EAAU,CAAC;QAE1C,aAAQ,GAAW,IAAI;QACvB,SAAI,GAAY,KAAK,CAAC;QACtB,WAAM,GAAG,KAAK,CAAC;IAyC3B,CAAC;IAvCG,oCAAI,GAAJ;QAEI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC;QAC3B,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,CAAC;IAED,4CAAY,GAAZ,UAAa,KAAa;QAEtB,EAAE,CAAC,CAAC,KAAK,IAAI,EAAE,CAAC,CAChB,CAAC;YACG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YAEnB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAE5B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC/B,CAAC;QACD,IAAI,CACJ,CAAC;YACG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC/B,CAAC;QAED,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;IACtB,CAAC;IAED,qCAAK,GAAL;QAEI,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAChB,CAAC;YACG,MAAM,CAAC,CAAC,4BAA4B;QACxC,CAAC;QACD,IAAI,CACJ,CAAC;YACG,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;YAElB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC/B,CAAC;IACL,CAAC;IACL,4BAAC;AAAD,CAAC;AAhDY;IAAR,2EAAK,EAAE;;oDAAsB;AACrB;IAAR,2EAAK,EAAE;;0DAA4B;AAE1B;IAAT,4EAAM,EAAE;;yDAAyC;AALzC,qBAAqB;IA1BjC,+EAAS,CAAC;QACP,QAAQ,EAAE,eAAe;QACzB,QAAQ,EAAE,0kBAkBT;QACD,MAAM,EACN,CAAC,iEAEA,CAAC;KACL,CAAC;GACW,qBAAqB,CAkDjC;AAlDiC;;;;;;;;;;;;;;;;;;;;AC7BgD;AAmClF,IAAa,sBAAsB;IAhCnC;QAkCa,UAAK,GAAW,IAAI,CAAC;QACrB,gBAAW,GAAW,IAAI,CAAC;QAE1B,aAAQ,GAAG,IAAI,2DAAY,EAAU,CAAC;QAExC,aAAQ,GAAW,IAAI;QACvB,SAAI,GAAY,KAAK,CAAC;QACtB,WAAM,GAAG,KAAK,CAAC;IA0C3B,CAAC;IAxCW,qCAAI,GAAZ;QAEI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC;IAC/B,CAAC;IAEO,6CAAY,GAApB,UAAqB,KAAa;QAE9B,EAAE,CAAC,CAAC,KAAK,IAAI,EAAE,CAAC,CAChB,CAAC;YACG,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,CACxB,CAAC;gBACG,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;gBACnB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBAEnB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACnC,CAAC;QACL,CAAC;QACD,IAAI,CACJ,CAAC;YACG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC/B,CAAC;QAED,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;IACtB,CAAC;IAEO,sCAAK,GAAb;QAEI,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAChB,CAAC;YACG,MAAM,CAAC,CAAC,4BAA4B;QACxC,CAAC;QACD,IAAI,CACJ,CAAC;YACG,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;YAElB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC/B,CAAC;IACL,CAAC;IACL,6BAAC;AAAD,CAAC;AAjDY;IAAR,2EAAK,EAAE;;qDAAsB;AACrB;IAAR,2EAAK,EAAE;;2DAA4B;AAE1B;IAAT,4EAAM,EAAE;;wDAAuC;AALvC,sBAAsB;IAhClC,+EAAS,CAAC;QACP,QAAQ,EAAE,gBAAgB;QAC1B,QAAQ;QACR;;;;;;UAME;QACF,4kBAgBC;QACD,MAAM,EACN,CAAC,iEAEA,CAAC;KACL,CAAC;GACW,sBAAsB,CAmDlC;AAnDkC;;;;;;;;;;;;;;;;;;;;;;;;ACnCyB;AACb;AAG2C;AAExC;AACQ;AA2D1D,IAAa,iBAAiB;IAW1B,2BAAoB,WAAwB,EAAU,MAAa;QAA/C,gBAAW,GAAX,WAAW,CAAa;QAAU,WAAM,GAAN,MAAM,CAAO;QAT1D,cAAS,GAAQ,IAAI,CAAC;QACrB,aAAQ,GAAsB,IAAI,2DAAY,EAAO,CAAC;QAIxD,SAAI,GAAU,EAAE,CAAC;QACjB,gBAAW,GAAQ,IAAI,CAAC;QACxB,cAAS,GAAY,KAAK,CAAC;IAEoC,CAAC;IAExE,uCAAW,GAAX;QAEI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QAExB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAClC,CAAC;IAED,oCAAQ,GAAR;QAEI,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,CAC3B,CAAC;YACG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAClC,CAAC;IACL,CAAC;IAEO,4CAAgB,GAAxB;QAEI,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,CAC7B,CAAC;YACG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAEnC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QAC5B,CAAC;IACL,CAAC;IAEO,kCAAM,GAAd,UAAe,GAAQ;QAEnB,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,GAAG,CAAC,CAC5B,CAAC;YACG,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,CAAC,yCAAyC;YAEjE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAErC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,wBAAwB;QAC7D,CAAC;IACL,CAAC;IAEO,oCAAQ,GAAhB,UAAiB,SAAc;QAA/B,iBA6BC;QA3BG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;QAEf,IAAI,QAAQ,GAAG,SAAS,IAAI,IAAI,GAAG,SAAS,CAAC,EAAE,GAAG,yEAAS,CAAC;QAE5D,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,QAAQ,CAAC;aACjC,OAAO,CAAC;YAEL,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QAC3B,CAAC,CAAC;aACD,SAAS,CAAC,UAAC,IAAW;YAEnB,EAAE,CAAC,CAAC,mBAAiB,CAAC,SAAS,IAAI,IAAI,CAAC;gBACpC,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,WAAC,IAAI,QAAC,CAAC,EAAE,IAAI,mBAAiB,CAAC,SAAS,CAAC,EAAE,EAAtC,CAAsC,CAAC,CAAC,CAAC,8BAA8B;YACxG,IAAI;gBACA,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YAErB,8DAA8D;YAC9D,EAAE,CAAC,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,IAAI,KAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,IAAI,yEAAS,CAAC,CAC/D,CAAC;gBACG,KAAI,CAAC,MAAM,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9B,CAAC;QACL,CAAC,EACD,UAAC,GAAG;YAEA,KAAK,CAAC,+BAA+B,GAAG,GAAG,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;IACX,CAAC;IAEO,uCAAW,GAAnB,UAAoB,KAAa;QAAjC,iBAgBC;QAdG,EAAE,CAAC,CAAC,KAAK,IAAI,EAAE,CAAC,CAChB,CAAC;YACG,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,yEAAS,CAAC;YAEtE,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC,SAAS,CAAC,UAAC,MAAM;gBAE1D,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACvB,KAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YACxB,CAAC,EACG,UAAC,GAAG;gBAEA,KAAK,CAAC,8BAA8B,GAAG,GAAG,CAAC,CAAC;YAChD,CAAC,CAAC,CAAC;QACX,CAAC;IACL,CAAC;IAEO,qCAAS,GAAjB,UAAkB,GAAQ;QAA1B,iBAqBC;QAnBG,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YAE/B,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;YAEjC,KAAI,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC;gBAEnC,gBAAgB;gBAChB,OAAO,EAAE,CAAC;YACd,CAAC,EACG,UAAC,GAAG;gBAEA,EAAE,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC;oBAAC,KAAK,CAAC,sCAAsC,CAAC,CAAC;gBAC9D,IAAI;oBACA,KAAK,CAAC,2BAA2B,GAAG,GAAG,CAAC,CAAC;gBAE7C,MAAM,CAAC,GAAG,CAAC,CAAC;YAChB,CAAC,CAAC,CAAC;QACX,CAAC,CAAC,CAAC;IAEP,CAAC;IAEO,qCAAS,GAAjB,UAAkB,GAAQ;QAEtB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5C,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC5B,CAAC;IAEO,kCAAM,GAAd,UAAe,GAAQ;QAAvB,iBAeC;QAbG,EAAE,CAAC,CAAC,OAAO,CAAC,cAAY,GAAG,CAAC,KAAK,QAAK,CAAC,CAAC,CACxC,CAAC;YACG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC;gBAEtC,KAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YACxB,CAAC,EACG,UAAC,GAAG;gBAEA,EAAE,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC;oBAAC,KAAK,CAAC,wCAAwC,CAAC,CAAC;gBAChE,IAAI;oBACA,KAAK,CAAC,6BAA6B,GAAG,GAAG,CAAC,CAAC;YACnD,CAAC,CAAC,CAAC;QACX,CAAC;IACL,CAAC;IAEO,yCAAa,GAArB;QAEI,MAAM,CAAC,CAAC,mBAAiB,CAAC,SAAS,IAAI,IAAI,CAAC,GAAG,mBAAiB,CAAC,SAAS,CAAC,KAAK,GAAG,EAAE,CAAC;IAC1F,CAAC;IAEO,yCAAa,GAArB;QAEI,MAAM,CAAC,mBAAiB,CAAC,SAAS,IAAI,IAAI,CAAC;IAC/C,CAAC;IAEO,oDAAwB,GAAhC,UAAiC,MAAM;QAEnC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC7B,CAAC;IAEO,iDAAqB,GAA7B,UAA8B,MAAM;QAEhC,mBAAiB,CAAC,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC;QAE1C,OAAO,CAAC,GAAG,CAAC,aAAW,mBAAiB,CAAC,SAAS,CAAC,KAAO,CAAC,CAAC;QAE5D,IAAI,CAAC,SAAS,CAAC,mBAAiB,CAAC,SAAS,CAAC,CAAC;IAChD,CAAC;IAEO,0DAA8B,GAAtC,UAAuC,MAAM;QAA7C,iBAmBC;QAjBG,EAAE,CAAC,CAAC,mBAAiB,CAAC,SAAS,IAAI,IAAI,CAAC,CACxC,CAAC;YACG,IAAI,gBAAc,GAAQ,MAAM,CAAC,IAAI,CAAC;YAEtC,OAAO,CAAC,GAAG,CAAC,eAAa,mBAAiB,CAAC,SAAS,CAAC,KAAK,yBAAoB,gBAAc,CAAC,KAAK,UAAO,CAAC,CAAC;YAE3G,mBAAiB,CAAC,SAAS,CAAC,QAAQ,GAAG,gBAAc,CAAC,QAAQ,CAAC;YAE/D,IAAI,CAAC,SAAS,CAAC,mBAAiB,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC;gBAE7C,KAAI,CAAC,MAAM,CAAC,gBAAc,CAAC,CAAC;gBAC5B,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAiB,CAAC,SAAS,CAAC,CAAC;gBAC5C,KAAI,CAAC,MAAM,CAAC,mBAAiB,CAAC,SAAS,CAAC,CAAC;gBAEzC,mBAAiB,CAAC,SAAS,GAAG,IAAI,CAAC;YACvC,CAAC,CAAC,CAAC;QACP,CAAC;IACL,CAAC;IACL;AAAA;AAxLmB,2BAAS,GAAQ,IAAI,CAAC,CAAC,2EAA2E;AAHxG;IAAR,2EAAK,EAAE;kDAAY,8DAAG,oBAAH,8DAAG;oDAAQ;AACrB;IAAT,4EAAM,EAAE;kDAAW,2DAAY,oBAAZ,2DAAY;mDAAgC;AAHvD,iBAAiB;IAzD7B,+EAAS,CAAC;QACP,QAAQ,EAAE,WAAW;QACrB,QAAQ,EAAE,iqEAoDT;QACD,kCAAsC;KACzC,CAAC;yDAYmC,2EAAW,oBAAX,2EAAW,sDAAkB,wEAAK,oBAAL,wEAAK;GAX1D,iBAAiB,CA6L9B;AA7L8B;;;;;;;;;;;;;;;;;;;;;;AClE8B;AAEV;AAyBlD,IAAa,oBAAoB;IAQ7B,8BAAoB,YAAyB;QAAzB,iBAAY,GAAZ,YAAY,CAAa;QANrC,gBAAW,GAAQ,IAAI,CAAC;QAExB,eAAU,GAAW,MAAM,CAAC;QAC5B,YAAO,GAAW,EAAE,CAAC;IAGoB,CAAC;IAE1C,uCAAQ,GAAhB,UAAiB,MAAW;QAExB,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC;QAE1B,EAAE,CAAC,CAAC,MAAM,IAAI,IAAI,CAAC,CACnB,CAAC;YACG,OAAO,CAAC,GAAG,CAAC,gBAAgB,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC;QACjG,CAAC;IACL,CAAC;IAEO,mCAAI,GAAZ;QAAA,iBAmBC;QAjBG,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC;QAE9B,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAExC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC;aACrC,OAAO,CAAC;YAEL,KAAI,CAAC,UAAU,GAAG,MAAM,CAAC;QAC7B,CAAC,CAAC;aACD,SAAS,CAAC;YAEP,gBAAgB;QACpB,CAAC,EACD,UAAC,GAAG;YAEA,KAAK,CAAC,wBAAwB,GAAG,GAAG,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;IACX,CAAC;IACL;AAAA;AAxCa,oBAAoB;IAvBhC,+EAAS,CAAC;QACP,QAAQ,EAAE,MAAM;QAChB,QAAQ,EAAE,ypBAkBT;QACD,kCAAiC;KACpC,CAAC;yDASoC,2EAAW,oBAAX,2EAAW;GARpC,oBAAoB,CAwCjC;AAxCiC;;;;;;;;;;ACxBjC;AAAA;IAMI,wBAAmB,IAA8B;QAE7C,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC9B,CAAC;IACL,qBAAC;AAAD,CAAC;;;;;;;;;;ACVD;AAAA;IAII,4BAAmB,IAAkC;QAEjD,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC9B,CAAC;IACL,yBAAC;AAAD,CAAC;;;;;;;;;;ACPD;AAAA;IAII,uBAAmB,IAA6B;QAE5C,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC9B,CAAC;IACL,oBAAC;AAAD,CAAC;;;;;;;;;;ACTD;AAAA;IAKI,oBAAmB,IAA0B;QAEzC,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC9B,CAAC;IACL,iBAAC;AAAD,CAAC;;;;;;;;;;ACRD;AAAA;IAOI,2BAAmB,GAAQ;QAEvB,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;QACjB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;QAC7B,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;QACvB,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC;IAC/B,CAAC;IACL,wBAAC;AAAD,CAAC;;;;;;;;;;ACfD;AAAA;IAKI,2BAAmB,IAAiC;QAEhD,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC9B,CAAC;IACL,wBAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZqD;AACyB;AACe;AACH;AACnB;AAC3B;AACI;AACR;AACM;AACF;AACY;AA2BzD,IAAa,UAAU;IAAvB;IAA0B,CAAC;IAAD,iBAAC;AAAD,CAAC;AAAd,UAAU;IAzBtB,8EAAQ,CAAC;QACR,OAAO,EACP;YACE,mEAAW;YACX,iEAAU;YACV,6DAAY;YACZ,2DAAW,CAAC,OAAO,EAAE;YACrB,wEAAiB;SAClB;QACD,OAAO,EACP;YACE,6FAAoB;SACrB;QACD,YAAY,EACZ;YACE,mHAAsB;YACtB,gHAAqB;YACrB,oGAAiB;YACjB,6FAAoB;SACrB;QACD,SAAS,EACT;YACE,2EAAW;SACZ;KACF,CAAC;GACW,UAAU,CAAI;AAAJ;;;;;;;;;ACrCvB;AAAA,mFAAmF;AACnF,8FAA8F;AAC9F,yEAAyE;AACzE,gFAAgF;AAEhF,mFALmF;AAK5E,IAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;;;;;;;;ACPF;AACA;;;AAGA;AACA,gCAAiC,0BAA0B,kBAAkB,kBAAkB,2BAA2B,2BAA2B,oBAAoB,mCAAmC,oCAAoC,qCAAqC,qCAAqC,mBAAmB,IAAI,eAAe,6BAA6B,6BAA6B,sBAAsB,gCAAgC,iCAAiC,6CAA6C,wBAAwB,gBAAgB,oBAAoB,GAAG,0BAA0B,2BAA2B,uBAAuB,uBAAuB,uBAAuB,mBAAmB,mBAAmB,iBAAiB,IAAI,mBAAmB,0BAA0B,sBAAsB,sBAAsB,2BAA2B,GAAG,mBAAmB,wBAAwB,GAAG;;AAEv7B;;;AAGA;AACA,2C;;;;;;;ACXA;AACA;;;AAGA;AACA,uCAAwC,wBAAwB,GAAG,yBAAyB,uBAAuB,GAAG,wBAAwB,sBAAsB,GAAG;;AAEvK;;;AAGA;AACA,2C;;;;;;;ACXA;AACA;;;AAGA;AACA,yCAA0C,0BAA0B,sBAAsB,sBAAsB,4BAA4B,4BAA4B,qBAAqB,GAAG,gBAAgB,2BAA2B,uBAAuB,uBAAuB,iBAAiB,uBAAuB,qBAAqB,8BAA8B,GAAG,4BAA4B,wBAAwB,GAAG,kCAAkC,4BAA4B;;AAE5e;;;AAGA;AACA,2C","file":"main.bundle.js","sourcesContent":["import { guid } from 'app/common/types';\nimport { StorageService } from './storage.service';\nimport { CqrsBus } from './cqrs/cqrs-bus.service';\nimport { Observable } from 'rxjs/Observable';\nimport { Injectable, OnInit } from '@angular/core';\nimport { Subject } from \"rxjs/Subject\";\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\nimport { UserRegisterQuery, LoginQuery } from \"app/services/cqrs/messages\";\n\n\nexport enum LoginStatus { LoggedIn, UserNotFound, WrongPassword, ConnectionProblem }\nexport enum RegisterStatus { Registered, EmailTaken, ConnectionProblem }\n\n\n@Injectable()\nexport class AuthService\n{\n    public LoginStatusChanged = new BehaviorSubject<boolean>(false);\n\n    constructor(private _cqrs: CqrsBus, private _storage: StorageService)\n    {\n        console.log(\"User is \" + (this.IsLoggedIn() ? \"logged in\" : \"not logged in\"));\n\n        this.LoginStatusChanged.next(this.IsLoggedIn());\n    }\n\n    public IsLoggedIn(): boolean\n    {\n        return (this._storage.GetSessionToken() != \"\");\n    }\n\n    public Login(email: string, pass: string): Observable<LoginStatus>\n    {\n        let ret = new Subject();\n\n        this._cqrs.Send(new LoginQuery({ email: email, password: pass })).subscribe((token: guid) =>\n        {\n            console.log(\"Token: \" + token);\n\n            this._storage.SetSessionToken(token);\n\n            ret.next(LoginStatus.LoggedIn);\n\n            this.LoginStatusChanged.next(true);\n        },\n            (err) =>\n            {\n                console.log(\"Err: \" + err);\n\n                switch (err)\n                {\n                    case 404: ret.next(LoginStatus.UserNotFound);\n                        break;\n                    case 401: ret.next(LoginStatus.WrongPassword);\n                        break;\n                    default: ret.next(LoginStatus.ConnectionProblem);\n                        break;\n                }\n\n                this._storage.SetSessionToken(\"\");\n            });\n\n        return ret;\n    }\n\n    public Register(email: string, pass: string): Observable<RegisterStatus>\n    {\n        let ret = new Subject();\n\n        this._cqrs.Send(new UserRegisterQuery({ email: email, password: pass })).subscribe((token: guid) =>\n        {\n            console.log(\"Token: \" + token);\n\n            this._storage.SetSessionToken(token);\n\n            ret.next(RegisterStatus.Registered);\n\n            this.LoginStatusChanged.next(true);\n        },\n            (err) =>\n            {\n                console.log(\"Err: \" + err);\n\n                switch (err)\n                {\n                    case 406: ret.next(RegisterStatus.EmailTaken);\n                        break;\n                    default: ret.next(LoginStatus.ConnectionProblem);\n                        break;\n                }\n            });\n\n        return ret;\n    }\n\n    public Logout(): void\n    {\n        this._storage.SetSessionToken('');\n\n        this.LoginStatusChanged.next(false);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/auth.service.ts","import { Http, RequestOptions, Headers } from '@angular/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { ICommand } from './ICommand.interface';\nimport { IQuery } from './IQuery.interface';\nimport { StorageService } from './../storage.service';\nimport 'rxjs';\n\n@Injectable()\nexport class CqrsBus\n{\n    private API: string = 'http://localhost:3000/api/cqrsbus';\n\n\n    constructor(private _http: Http, private _storage: StorageService) { }\n\n\n    public Send(message: ICommand | IQuery<any>): Observable<any>\n    {\n        // Message class ---into---> { class_name: { class_fields }}\n        const messagePackage = {};\n        messagePackage[message.constructor.name] = message;\n        const json = JSON.stringify(messagePackage);\n\n        console.log('Sending message:', json);\n\n\n        const headers = new Headers(\n            {\n                'Content-type': 'application/json',\n                'Authorization': this._storage.GetSessionToken()\n            });\n        const options = new RequestOptions({ headers: headers });\n\n\n        return this._http\n            .post(this.API, json, options)\n            .map(response =>\n            {\n                if (response.text() !== '')\n                {\n                    return response.json();\n                }\n                else \n                {\n                    return null;\n                }\n            })\n            .do(x => \n            {\n                console.log('[CQRS.Send] Message result: ' + JSON.stringify(x))\n            })\n            .catch((e, c) =>\n            {\n                console.log('[CQRS.Send] Message exception: ', e);\n\n                return Observable.throw(e.status);\n            });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/cqrs/cqrs-bus.service.ts","import { guid } from 'app/common/types';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class StorageService\n{\n    private SESSION_TOKEN_NAME = \"session_token\";\n   \n    constructor()\n    {\n        if (typeof(Storage) === \"undefined\")\n        {\n            console.log(\"STORAGE IS UNAVALIABLE!\");         \n        }\n    }\n\n    public SetSessionToken(token: guid): void\n    {\n        localStorage.setItem(this.SESSION_TOKEN_NAME, token);\n    }\n\n    public GetSessionToken(): guid\n    {\n        return localStorage.getItem(this.SESSION_TOKEN_NAME);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/storage.service.ts","import { Tab } from './../models/tab.model';\nimport { guid } from 'app/common/types';\nimport { CqrsBus } from './cqrs/cqrs-bus.service';\nimport { Http, URLSearchParams, RequestOptionsArgs, ResponseContentType, Headers, Response } from '@angular/http';\nimport { Observable } from 'rxjs/Rx';\nimport { Injectable } from '@angular/core';\nimport { UUID } from \"angular2-uuid\";\nimport { GetNotesQuery, AddNoteCommand, UpdateNoteCommand, DeleteNotesCommand } from \"app/services/cqrs/messages\";\n\n@Injectable()\nexport class TabsService\n{\n    constructor(private _cqrs: CqrsBus) { }\n\n    public GetChildren(parentId: guid): Observable<Tab[]>\n    {\n        return this._cqrs.Send(new GetNotesQuery({ parentId: parentId }));\n    }\n\n    public AddSibling(parentId: guid, title: string): Observable<Tab>\n    {\n        const id: guid = UUID.UUID();\n        const tab = new Tab();\n\n        tab.id = id;\n        tab.parentId = parentId;\n        tab.title = title;\n        tab.content = '';\n\n        return this._cqrs.Send(new AddNoteCommand({ id: id, parentId: parentId, title: title }))\n            .map(() => tab);\n    }\n\n    public Update(tab: Tab): Observable<void>\n    {\n        console.log(\"Update:\", tab);\n        \n        return this._cqrs.Send(new UpdateNoteCommand(tab));\n    }\n\n    public Delete(id: guid): Observable<void>\n    {\n        return this._cqrs.Send(new DeleteNotesCommand({ id: id }));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/tabs.service.ts","import { guid } from 'app/common/types';\n\nexport class Tab // equivalent of NoteDto in backend API\n{\n    public id: guid;\n    public parentId: guid;\n    public title: string;\n    public content: string;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/tab.model.ts","import { UserRegisterQuery } from './UserRegisterQuery';\nimport { LoginQuery } from './LoginQuery';\nimport { DeleteNotesCommand } from './DeleteNotesCommand';\nimport { UpdateNoteCommand } from './UpdateNoteCommand';\nimport { GetNotesQuery } from './GetNotesQuery';\nimport { AddNoteCommand } from './AddNoteCommand';\n\nexport { UserRegisterQuery, LoginQuery, AddNoteCommand, UpdateNoteCommand, GetNotesQuery, DeleteNotesCommand };\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/cqrs/messages/index.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 361;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 361\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { AuthComponent } from './components/auth/auth.component';\nimport { AuthService, LoginStatus } from './services/auth.service';\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  template: `\n  \n    <div class=\"header\">      \n       <span class=\"title\">Recursive Notepad</span> \n       <auth></auth>        \n    </div>\n    \n         \n    <button *ngIf=\"!showTabs\" (click)=\"Demo()\" class=\"margin-top btn btn-danger center-block\">Run Demo</button>\n    <tabs *ngIf=\"showTabs\"></tabs>\n     \n\n    `,\n  styleUrls: ['app.component.css']\n})\nexport class AppComponent\n{\n  showTabs: boolean = false;\n\n  constructor(private _auth: AuthService)\n  {\n    this.showTabs = _auth.IsLoggedIn();\n\n    _auth.LoginStatusChanged.subscribe(x => this.showTabs = x);\n  }\n\n  Demo()\n  {\n    this._auth.Login(\"demo\", \"demo\").subscribe((s: LoginStatus) =>\n    {\n      if (s == LoginStatus.UserNotFound) \n      {\n        alert(\"No demo user in database\");\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { TabsModule } from './tabs.module';\nimport { AuthComponent } from './components/auth/auth.component';\nimport { StorageService } from './services/storage.service';\nimport { CqrsBus } from './services/cqrs/cqrs-bus.service';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport { AppComponent } from './app.component';\nimport { AuthService } from './services/auth.service';\n\n\n@NgModule({\n  declarations: \n  [\n    AppComponent,\n    AuthComponent\n  ],\n  imports: \n  [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    TabsModule\n  ],\n  providers: \n  [\n    CqrsBus,\n    StorageService,\n    AuthService\n  ],\n  bootstrap:\n  [\n    AppComponent\n  ]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { guid } from 'app/common/types';\n\nexport const EmptyGuid: guid = \"00000000-0000-0000-0000-000000000000\";\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/guid.extension.ts","import { AuthService, LoginStatus, RegisterStatus } from './../../services/auth.service';\nimport { Component } from '@angular/core';\n\nenum AuthFormViewState\n{\n  Initial, Logging, LogedIn, UserNotFound, WrongPassword,\n  Registering, EmailTaken\n}\n\n@Component({\n  selector: 'auth',\n  template: `\n\n    <div class=\"form-inline\">\n    \n      <div class=\"form-group\">\n        <input type=\"text\" #email                  \n              [ngClass]=\"{ 'alert-danger': emailInputError, 'hide': !inputsVisible }\"\n              placeholder=\"E-mail\"\n              class=\"form-control\"\n              (keydown.enter)=\"Login(email.value, pass.value)\"\n              value=\"\">\n      </div>\n    \n      <div class=\"form-group\" >   \n        <input type=\"password\" #pass                \n              [ngClass]=\"{ 'alert-danger': passwordInputError, 'hide': !inputsVisible }\"\n              placeholder=\"Password\" \n              class=\"form-control\"\n              (keydown.enter)=\"Login(email.value, pass.value)\"\n              value=\"\">\n      </div> \n    \n      <div class=\"form-group\">\n        <button *ngIf=\"loginButtonVisible\"\n                (click)=\"Login(email.value, pass.value)\"\n                class=\"btn btn-primary\">{{ loginButtonText }}</button>\n        <button *ngIf=\"logoutButtonVisible\" \n                (click)=\"Logout()\"\n                class=\"btn\">Logout</button> \n      </div> \n      \n      <div class=\"form-group\">\n        <button *ngIf=\"loginButtonVisible\"\n                (click)=\"Register(email.value, pass.value)\"\n                class=\"btn btn-default\">{{ registerButtonText }}</button>    \n      </div>\n\n    </div>\n    `,\n  styles: \n  [`\n    .little-margin-top { margin-top: 12px }\n    .hide { display: none } \n  `] // because [hidden] is not working with .form-control\n})\nexport class AuthComponent \n{\n  private inputsVisible: boolean = true;\n  private loginButtonVisible: boolean = true;\n  private logoutButtonVisible: boolean = false;\n  private loginButtonText: string = \"Login\";\n  private registerButtonText: string = \"Register\";\n  private emailInputError: boolean = false; // to nie powinno mieć nazwy określającej błąd a coś bardziej powiązanego z ramką\n  private passwordInputError: boolean = false; // to nie powinno mieć nazwy określającej błąd a coś bardziej powiązanego z ramką\n\n  constructor(private _auth: AuthService)\n  {\n    this._auth.LoginStatusChanged.subscribe((loginStatus: boolean) =>\n    {\n      if (loginStatus)\n        this.SetFormState(AuthFormViewState.LogedIn);\n      else\n        this.SetFormState(AuthFormViewState.Initial);\n    });\n  }\n\n  private SetFormState(state: AuthFormViewState)\n  {\n    this.inputsVisible = true;\n    this.loginButtonText = \"Login\";\n    this.registerButtonText = \"Register\";\n    this.loginButtonVisible = true;\n    this.logoutButtonVisible = false;\n    this.emailInputError = false;\n    this.passwordInputError = false;\n\n    switch (state)\n    {\n      default:\n      case AuthFormViewState.Initial:\n        // do nothing\n        break;\n      case AuthFormViewState.Logging:\n        this.loginButtonText = \"Logging...\";\n        break;\n      case AuthFormViewState.LogedIn:\n        this.inputsVisible = false;\n        this.loginButtonVisible = false;\n        this.logoutButtonVisible = true;\n        break;\n      case AuthFormViewState.UserNotFound:\n        this.emailInputError = true;\n        break;\n      case AuthFormViewState.WrongPassword:\n        this.passwordInputError = true;\n        break;\n      case AuthFormViewState.Registering:\n        this.registerButtonText = \"Registering...\";\n        break;\n      case AuthFormViewState.EmailTaken:\n        this.emailInputError = true;\n        break;\n    }\n  }\n\n\n  private Login(email: string, pass: string): void\n  {\n    this.SetFormState(AuthFormViewState.Logging);\n\n    this._auth.Login(email, pass).subscribe((status: LoginStatus) =>\n    {\n      switch (status)\n      {\n        case LoginStatus.LoggedIn: this.SetFormState(AuthFormViewState.LogedIn);\n          break;\n        case LoginStatus.UserNotFound: this.SetFormState(AuthFormViewState.UserNotFound);\n          break;\n        case LoginStatus.WrongPassword: this.SetFormState(AuthFormViewState.WrongPassword);\n          break;\n        default: this.SetFormState(AuthFormViewState.Initial);\n          break;\n      }\n    });\n  }\n\n  private Register(email: string, pass: string): void\n  {\n    this.SetFormState(AuthFormViewState.Registering);\n\n    this._auth.Register(email, pass).subscribe((status: RegisterStatus) =>\n    {\n      switch (status)\n      {\n        case RegisterStatus.Registered: this.SetFormState(AuthFormViewState.LogedIn);\n          break;\n        case RegisterStatus.EmailTaken: this.SetFormState(AuthFormViewState.EmailTaken);\n          break;\n        default: this.SetFormState(AuthFormViewState.Initial);\n          break;\n      }\n    });\n  }\n\n  private Logout()\n  {\n    this._auth.Logout();\n\n    this.SetFormState(AuthFormViewState.Initial);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/auth/auth.component.ts","import { Component, OnChanges, Input, Output, EventEmitter } from '@angular/core';\n\n\n@Component({\n    selector: 'editable-once',\n    template: `\n       \n    <span *ngIf=\"!edit\" \n        (click)=\"Edit()\" \n        class=\"value-label\">\n        {{ value }}\n    </span>                                 \n\n    <span *ngIf=\"edit\" class=\"value-edit\">\n        <input type=\"text\"\n               #thisInput \n               focus=\"true\"\n               [value]=\"value\"                           \n               [placeholder]=\"placeholder\"\n               (keydown.enter)=\"OnEnterPress(thisInput.value)\"\n               (blur)=\"Abort()\" \n               (keydown.esc)=\"Abort()\">\n    </span>         \n    `,\n    styles: \n    [`\n        input { height: 20px; border: 1px solid #999; }\n    `]\n})\nexport class EditableOnceComponent  \n{\n    @Input() value: string = null;\n    @Input() placeholder: string = null;\n   \n    @Output() onComplete = new EventEmitter<string>();\n\n    private oldValue: string = null\n    private edit: boolean = false;\n    private edited = false;\n\n    Edit()\n    {\n        this.edit = true;\n        this.oldValue = this.value;\n        this.value = \"\";\n        this.edited = false;       \n    }\n  \n    OnEnterPress(value: string)\n    {\n        if (value != \"\") \n        {          \n            this.edited = true;\n\n            this.onComplete.emit(value);    \n                \n            this.value = this.oldValue;\n        }\n        else\n        {\n            this.value = this.oldValue;\n        }\n\n        this.edit = false;\n    }\n\n    Abort()\n    {       \n        if (this.edited) // keydown.enter makes blur..         \n        {           \n            return; // ..so we need to stop here\n        }\n        else\n        {\n            this.edit = false;\n\n            this.value = this.oldValue;\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/editable-once/editable-once.component.ts","import { Component, OnChanges, Input, Output, EventEmitter } from '@angular/core';\n\n\n@Component({\n    selector: 'editable-value',\n    template:\n    /*\n        Warnings:\n        (1) I think (!) that <a> tags styles are ignored by Angular in template, that's why we need to use something other here\n        (2) .value-label need 3px of extra padding if we wanna have the same height of tab independently from edit mode (label or input)\n              - or -\n            We need to change input height to smaller\n    */\n    `      \n    <span *ngIf=\"!edit\"  \n           class=\"value-label\"\n          (dblclick)=\"Edit()\">{{ value }}</span>                                 \n\n    <span *ngIf=\"edit\" \n           class=\"value-edit\">\n        <input type=\"text\"\n               #thisInput \n               focus=\"true\"\n               [value]=\"value\"                           \n               [placeholder]=\"placeholder\"\n               (keydown.enter)=\"OnEnterPress(thisInput.value)\"\n               (blur)=\"Abort()\" \n               (keydown.esc)=\"Abort()\">\n    </span>         \n    `,\n    styles:\n    [`\n        input { height: 20px; border: 1px solid #aaa; }\n    `]\n})\nexport class EditableValueComponent  \n{\n    @Input() value: string = null;\n    @Input() placeholder: string = null;\n\n    @Output() onChange = new EventEmitter<string>();\n\n    private oldValue: string = null\n    private edit: boolean = false;\n    private edited = false;\n\n    private Edit()\n    {\n        this.edit = true;\n        this.edited = false;\n        this.oldValue = this.value;\n    }\n\n    private OnEnterPress(value: string)\n    {\n        if (value != \"\") \n        {\n            if (this.value != value)\n            {\n                this.value = value;\n                this.edited = true;\n\n                this.onChange.emit(this.value);\n            }\n        }\n        else\n        {\n            this.value = this.oldValue;\n        }\n\n        this.edit = false;\n    }\n\n    private Abort()\n    {\n        if (this.edited) // keydown.enter makes blur..         \n        {\n            return; // ..so we need to stop here\n        }\n        else\n        {\n            this.edit = false;\n\n            this.value = this.oldValue;\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/editable-value/editable-value.component.ts","import { TabsService } from './../../services/tabs.service';\nimport { Tab } from './../../models/tab.model';\nimport { CqrsBus } from './../../services/cqrs/cqrs-bus.service';\nimport { Observable } from 'rxjs/Rx';\nimport { Component, OnChanges, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { Title } from '@angular/platform-browser';\nimport { EmptyGuid } from './../../common/guid.extension';\n\n@Component({\n    selector: 'tabs-list',\n    template: `\n\n        <ul class=\"nav nav-tabs little-margin-top\">\n\n            <li *ngIf=\"parentTab != null\" \n                [class.active]=\"selectedTab == null\" \n                (click)=\"SelectContentTab()\">\n                <a>_</a>\n            </li>\n\n            <li *ngIf=\"isLoading\"> \n                <a>Loading...</a>\n            </li>\n\n            <li *ngFor=\"let tab of tabs\"           \n                class=\"editable-tab\"    \n                [class.active]=\"tab == selectedTab\" \n                (click)=\"Select(tab)\"\n                [contextMenu]=\"tabContextMenu\"\n                [contextMenuSubject]=\"tab\">   \n                <a>  \n                    <editable-value [class.active-tab]=\"tab == selectedTab\" \n                                    [value]=\"tab.title\"\n                                    [placeholder]=\"'Title'\"\n                                    (onChange)=\"tab.title=$event; UpdateTab(tab)\">\n                    </editable-value>             \n                </a>\n            </li>\n\n            <li>   \n                <a>             \n                    <editable-once [value]=\"'(+)'\"\n                                   [placeholder]=\"'New Tab Title'\"\n                                   (onComplete)=\"AddSibiling($event)\">\n                    </editable-once>             \n                </a>\n            </li>\n \n        </ul>\n        \n        <tabs-list *ngIf=\"selectedTab != null\" \n                    [parentTab]=\"selectedTab\"\n                    (onSelect)=\"onSelect.emit($event)\">\n        </tabs-list> \n\n        <context-menu #tabContextMenu>\n            <template contextMenuItem let-item (execute)=\"TabContextMenu_DeleteTab($event)\">Delete</template>\n            <template contextMenuItem divider=\"true\"></template>\n            <template contextMenuItem let-item [enabled]=\"!HaveMovingTab()\" (execute)=\"TabContextMenu_CutTab($event)\">Cut</template>        \n            <template contextMenuItem let-item [enabled]=\"HaveMovingTab()\" (execute)=\"TabContextMenu_BindTabToParent($event)\">Paste <b>{{CuttedTabName()}}</b> as sibiling</template>\n        </context-menu>\n        \n    `,\n    styleUrls: ['tabs-list.component.css']\n})\nexport class TabsListComponent implements OnInit, OnChanges\n{\n    @Input() parentTab: Tab = null;\n    @Output() onSelect: EventEmitter<Tab> = new EventEmitter<Tab>();\n\n    private static movingTab: Tab = null; // Must be static because cutted tab can be shared between many tabs-list's\n\n    private tabs: Tab[] = [];\n    private selectedTab: Tab = null;\n    private isLoading: boolean = false;\n\n    constructor(private tabsService: TabsService, private _title: Title) { }\n\n    ngOnChanges()\n    {\n        this.selectedTab = null;\n\n        this.LoadTabs(this.parentTab);\n    }\n\n    ngOnInit()\n    {\n        if (this.parentTab == null) // Because ngOnChanges() comes first..\n        {\n            this.LoadTabs(this.parentTab);\n        }\n    }\n\n    private SelectContentTab(): void\n    {\n        if (this.selectedTab != null)\n        {\n            this.onSelect.emit(this.parentTab);\n\n            this.selectedTab = null;\n        }\n    }\n\n    private Select(tab: Tab): void\n    {\n        if (this.selectedTab != tab)\n        {\n            this.selectedTab = tab; // This will run ngOnChanges and ngOnInit\n\n            this.onSelect.emit(this.selectedTab);\n\n            this._title.setTitle(tab.title); // TODO remove from here\n        }\n    }\n\n    private LoadTabs(parentTab: Tab): void\n    {\n        this.isLoading = true;\n        this.tabs = [];\n\n        let parentId = parentTab != null ? parentTab.id : EmptyGuid;\n\n        this.tabsService.GetChildren(parentId)\n            .finally(() =>\n            {\n                this.isLoading = false;\n            })\n            .subscribe((tabs: Tab[]) => \n            {\n                if (TabsListComponent.movingTab != null)\n                    this.tabs = tabs.filter(t => t.id != TabsListComponent.movingTab.id); // Show all but not cutted one\n                else\n                    this.tabs = tabs;\n\n                // Auto open first tab in first line of tabs (with parentId=0)\n                if (this.tabs[0] != null && this.tabs[0].parentId == EmptyGuid)\n                {\n                    this.Select(this.tabs[0]);\n                }\n            },\n            (err) =>\n            {\n                alert(\"Can not get children! Error: \" + err);\n            });\n    }\n\n    private AddSibiling(title: string): void\n    {\n        if (title != \"\")\n        {\n            let parentId = this.parentTab != null ? this.parentTab.id : EmptyGuid;\n\n            this.tabsService.AddSibling(parentId, title).subscribe((newTab) =>\n            {\n                this.tabs.push(newTab);\n                this.Select(newTab);\n            },\n                (err) =>\n                {\n                    alert(\"Can not add new tab! Error: \" + err);\n                });\n        }\n    }\n\n    private UpdateTab(tab: Tab)\n    {     \n        return new Promise((resolve, reject) =>\n        {\n            console.log(\"SelectedTab:\", tab);\n\n            this.tabsService.Update(tab).subscribe(() => \n            {\n                // nothing to do\n                resolve();\n            },\n                (err) =>\n                {\n                    if (err == 401) alert(\"You have no permision to edit notes!\");\n                    else\n                        alert(\"Can not edit tab! Error: \" + err);\n\n                    reject(err);\n                });\n        });\n\n    }\n\n    private RemoveTab(tab: Tab): void\n    {\n        this.tabs.splice(this.tabs.indexOf(tab), 1);\n        this.SelectContentTab();\n    }\n\n    private Delete(tab: Tab): void\n    {\n        if (confirm(`Delete \"${ tab.title }\"?`))\n        {\n            this.tabsService.Delete(tab.id).subscribe(() =>\n            {\n                this.RemoveTab(tab);\n            },\n                (err) =>\n                {\n                    if (err == 401) alert(\"You have no permision to delete notes!\");\n                    else\n                        alert(\"Can not delete tab! Error: \" + err);\n                });\n        }\n    }\n\n    private CuttedTabName() // This is a function because template can not access static members directly\n    {\n        return (TabsListComponent.movingTab != null) ? TabsListComponent.movingTab.title : \"\";\n    }\n\n    private HaveMovingTab() // This is a function because template can not access static members directly\n    {\n        return TabsListComponent.movingTab != null;\n    }\n\n    private TabContextMenu_DeleteTab($event)\n    {\n        this.Delete($event.item);\n    }\n\n    private TabContextMenu_CutTab($event)\n    {\n        TabsListComponent.movingTab = $event.item;\n\n        console.log(`Cutting ${TabsListComponent.movingTab.title}`);\n\n        this.RemoveTab(TabsListComponent.movingTab);\n    }\n\n    private TabContextMenu_BindTabToParent($event): void\n    {\n        if (TabsListComponent.movingTab != null)\n        {\n            let contextMenuTab: Tab = $event.item;\n\n            console.log(`Pasting \"${ TabsListComponent.movingTab.title }\" as child of \"${ contextMenuTab.title }\"...`);\n \n            TabsListComponent.movingTab.parentId = contextMenuTab.parentId;\n\n            this.UpdateTab(TabsListComponent.movingTab).then(()=>\n            {\n                this.Select(contextMenuTab);\n                this.tabs.push(TabsListComponent.movingTab);\n                this.Select(TabsListComponent.movingTab);\n                \n                TabsListComponent.movingTab = null;\n            });          \n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/tabs-list/tabs-list.component.ts","import { TabsService } from './../../services/tabs.service';\nimport { Tab } from './../../models/tab.model';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'tabs',\n    template: `\n \n        <tabs-list (onSelect)=\"Selected($event)\"></tabs-list>\n          \n        <div id=\"textarea-box\">\n            <textarea *ngIf=\"selectedTab\" \n                      [value]=\"selectedTab.content\" \n                      (keyup)=\"content=$event.target.value\"></textarea>\n        </div>   \n\n        <div id=\"textarea-inputs-box\">  \n            <button *ngIf=\"selectedTab\" \n                    [disabled]=\"selectedTab.content==content\" \n                    (click)=\"Save()\" \n                    [innerHTML]=\"buttonText\" \n                    class=\"btn btn-primary  margin-right\">Save</button>     \n        </div>\n  \n    `,\n    styleUrls: ['tabs.component.css']\n})\nexport class DynamicTabsComponent\n{\n    private selectedTab: Tab = null;\n\n    private buttonText: string = \"Save\";\n    private content: string = \"\";\n\n\n    constructor(private _tabsService: TabsService) { }\n\n    private Selected($event: Tab): void\n    {\n        this.selectedTab = $event;\n\n        if ($event != null)\n        {\n            console.log(\"Selected tab: \" + this.selectedTab.title + \" (id=\" + this.selectedTab.id + \")\");\n        }\n    }\n\n    private Save(): void\n    {\n        this.buttonText = \"Saving...\";\n        \n        this.selectedTab.content = this.content;\n\n        this._tabsService.Update(this.selectedTab)\n            .finally(() =>\n            {\n                this.buttonText = \"Save\";\n            })\n            .subscribe(() =>\n            {\n                // nothing to do\n            },\n            (err) => \n            {\n                alert('Unable to save. Error ' + err);\n            });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/tabs/tabs.component.ts","import { guid } from 'app/common/types';\nimport { ICommand } from './../ICommand.interface';\n\nexport class AddNoteCommand implements ICommand\n{\n    public id: guid;\n    public parentId: guid;\n    public title: string;\n\n    public constructor(init?: Partial<AddNoteCommand>)\n    {\n        Object.assign(this, init);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/cqrs/messages/AddNoteCommand.ts","import { guid } from 'app/common/types';\nimport { ICommand } from './../ICommand.interface';\n\nexport class DeleteNotesCommand implements ICommand\n{\n    public id: guid;\n\n    public constructor(init?: Partial<DeleteNotesCommand>)\n    {\n        Object.assign(this, init);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/cqrs/messages/DeleteNotesCommand.ts","import { guid } from 'app/common/types';\nimport { Tab } from './../../../models/tab.model';\nimport { IQuery } from './../IQuery.interface';\n\nexport class GetNotesQuery implements IQuery<Tab[]>\n{\n    public parentId: guid;\n\n    public constructor(init?: Partial<GetNotesQuery>)\n    {\n        Object.assign(this, init);\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/cqrs/messages/GetNotesQuery.ts","import { guid } from 'app/common/types';\nimport { IQuery } from './../IQuery.interface';\n\nexport class LoginQuery implements IQuery<guid>\n{\n    public email: string;\n    public password: string;\n\n    public constructor(init?: Partial<LoginQuery>)\n    {\n        Object.assign(this, init);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/cqrs/messages/LoginQuery.ts","import { Tab } from './../../../models/tab.model';\nimport { ICommand } from './../ICommand.interface';\nimport { guid } from \"app/common/types\";\n\nexport class UpdateNoteCommand implements ICommand\n{\n    public id: guid;\n    public parentId: guid;\n    public title: string;\n    public content: string;\n\n    public constructor(tab: Tab)\n    {\n        this.id = tab.id;\n        this.parentId = tab.parentId;\n        this.title = tab.title;\n        this.content = tab.content;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/cqrs/messages/UpdateNoteCommand.ts","import { guid } from 'app/common/types';\nimport { IQuery } from './../IQuery.interface';\n\nexport class UserRegisterQuery implements IQuery<guid>\n{\n    public email: string;\n    public password: string;\n\n    public constructor(init?: Partial<UserRegisterQuery>)\n    {\n        Object.assign(this, init);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/cqrs/messages/UserRegisterQuery.ts","import { TabsService } from './services/tabs.service';\nimport { TabsListComponent } from './components/tabs-list/tabs-list.component';\nimport { EditableValueComponent } from './components/editable-value/editable-value.component';\nimport { EditableOnceComponent } from './components/editable-once/editable-once.component';\nimport { DynamicTabsComponent } from './components/tabs/tabs.component';\nimport { FocusModule } from 'angular2-focus';\nimport { Http, HttpModule } from '@angular/http';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ContextMenuModule } from 'angular2-contextmenu';\n\n@NgModule({\n  imports: \n  [\n    FormsModule,\n    HttpModule,\n    CommonModule,\n    FocusModule.forRoot(),\n    ContextMenuModule\n  ],\n  exports:\n  [\n    DynamicTabsComponent\n  ],\n  declarations:\n  [   \n    EditableValueComponent,\n    EditableOnceComponent,\n    TabsListComponent,\n    DynamicTabsComponent\n  ],\n  providers:\n  [\n    TabsService\n  ]\n})\nexport class TabsModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/app/tabs.module.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"tabs\\n{\\n    -webkit-box-flex: 1;\\n    -ms-flex: 1;\\n        flex: 1;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: column;\\n            flex-direction: column;\\n    height: 100%; \\n}\\n\\n.header \\n{  \\n    display: -webkit-box;  \\n    display: -ms-flexbox;  \\n    display: flex;\\n    -webkit-box-pack: justify;\\n        -ms-flex-pack: justify;\\n            justify-content: space-between; \\n    background: #333;\\n    margin: 0;\\n    padding: 12px;\\n}\\n\\n.header span.title \\n{ \\n    -webkit-box-flex: 1; \\n        -ms-flex: 1; \\n            flex: 1; \\n    font-size: 24px; \\n    color: #eee;   \\n    margin: 0;\\n    padding: 0; \\n}\\n\\n.header auth\\n{\\n    -webkit-box-flex: 2;\\n        -ms-flex: 2;\\n            flex: 2;   \\n    text-align: right;\\n}\\n\\n.margin-top \\n{ \\n    margin-top: 72px;\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 543\n// module chunks = 1","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".active-tab\\n{\\n    font-weight: bold;\\n}\\n\\n.little-margin-top\\n{\\n    margin-top: 12px;\\n}\\n  \\nul li,\\nul li a\\n{\\n    cursor: pointer;\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/tabs-list/tabs-list.component.css\n// module id = 544\n// module chunks = 1","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"#textarea-box\\n{\\n    -webkit-box-flex: 1;\\n        -ms-flex: 1;\\n            flex: 1; \\n    display: -webkit-box; \\n    display: -ms-flexbox; \\n    display: flex;\\n}\\n\\ntextarea \\n{ \\n    -webkit-box-flex: 1; \\n        -ms-flex: 1; \\n            flex: 1;\\n    width: 98%; \\n    margin: 12px 1%; \\n    padding: 12px; \\n    border: 1px solid #ddd;\\n} \\n\\n#textarea-inputs-box\\n{\\n    text-align: right;\\n}\\n\\n#textarea-inputs-box button\\n{ \\n    margin: 0 1% 12px \\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/tabs/tabs.component.css\n// module id = 545\n// module chunks = 1"],"sourceRoot":""}