{"version":3,"sources":["webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/common/guid.extension.ts","webpack:///./src/app/components/auth/auth.component.ts","webpack:///./src/app/components/editable-once/editable-once.component.ts","webpack:///./src/app/components/editable-value/editable-value.component.ts","webpack:///./src/app/components/tabs-list/tabs-list.component.ts","webpack:///./src/app/components/tabs/tabs.component.ts","webpack:///./src/app/exceptions/ConnectionTimeoutException.ts","webpack:///./src/app/exceptions/UnhandledException.ts","webpack:///./src/app/services/cqrs/messages/AddNoteCommand.ts","webpack:///./src/app/services/cqrs/messages/DeleteNotesCommand.ts","webpack:///./src/app/services/cqrs/messages/GetNotesQuery.ts","webpack:///./src/app/services/cqrs/messages/LoginQuery.ts","webpack:///./src/app/services/cqrs/messages/UpdateNoteCommand.ts","webpack:///./src/app/services/cqrs/messages/UserRegisterQuery.ts","webpack:///./src/app/tabs.module.ts","webpack:///./src/environments/environment.ts","webpack:///../shared/errors/ExceptionCode.ts","webpack:///../shared/errors/errors.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/components/tabs-list/tabs-list.component.css","webpack:///./src/app/components/tabs/tabs.component.css","webpack:///./src/app/services/AuthService.ts","webpack:///./src/app/services/cqrs/CqrsBus.ts","webpack:///./src/app/services/storage.service.ts","webpack:///./src/app/services/tabs.service.ts","webpack:///./src/app/models/tab.model.ts","webpack:///./src/app/services/ErrorService.ts","webpack:///./src/app/services/cqrs/messages/index.ts","webpack:///./src/app/shared/errors/ExceptionCode.ts","webpack:///./src/app/shared/errors/errors.ts"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;;;;;;;;;;;;;;ACN+C;AAC4B;AAE9B;AACY;AAEzD,EAAE,CAAC,CAAC,8EAAW,CAAC,UAAU,CAAC,CAAC,CAAC;IAC3B,oFAAc,EAAE,CAAC;AACnB,CAAC;AAED,wHAAsB,EAAE,CAAC,eAAe,CAAC,kEAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;ACVC;AACN;AAEL;AAuB1C,IAAa,YAAY,GAAzB;IAIE,YAAoB,KAAkB,EAAS,SAAqB;QAAhD,UAAK,GAAL,KAAK,CAAa;QAAS,cAAS,GAAT,SAAS,CAAY;QAFpE,aAAQ,GAAY,KAAK,CAAC;QAIxB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC;QAEnC,KAAK,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,WAAoB,KAAK,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC,CAAC;IAC5F,CAAC;IAED,YAAY;QAEV,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;IACvD,CAAC;IAED,YAAY,CAAC,KAAK;QAEhB,OAAO,CAAC,GAAG,CAAC,6BAA6B,EAAE,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAC7D,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kCAAkC,EAAE,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;IAClF,CAAC;IAED,IAAI;QAEF,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IAC5C,CAAC;CACF;AA1BY,YAAY;IArBxB,+EAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACpB,QAAQ,EAAE;;;;;;;;;;;;;;;;KAgBP;QACH,kCAAgC;KACjC,CAAC;yDAK2B,0EAAW,oBAAX,0EAAW,sDAAoB,qEAAU,oBAAV,qEAAU;GAJzD,YAAY,CA0BxB;AA1BwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1B4B;AACH;AACK;AACQ;AACgB;AACpC;AACsB;AACL;AACF;AACO;AACpB;AACF;AACI;AAgC/C,IAAa,SAAS,GAAtB;CAA0B;AAAb,SAAS;IA7BrB,8EAAQ,CAAC;QACR,YAAY,EACZ;YACE,qEAAY;YACZ,sFAAa;SACd;QACD,OAAO,EACP;YACE,gFAAa;YACb,qGAAuB;YACvB,oEAAW;YACX,kEAAU;YACV,gEAAU;YACV,yEAAc;SACf;QACD,SAAS,EACT;YACE,uEAAO;YACP,iFAAc;YACd,0EAAW;YACX,qEAAU;YACV,4EAAY;SACb;QACD,SAAS,EACT;YACE,qEAAY;SACb;QACD,OAAO,EAAE,CAAC,qEAAsB,CAAC;KAClC,CAAC;GACW,SAAS,CAAI;AAAJ;;;;;;;;;AC1Cf,MAAM,SAAS,GAAS,sCAAsC,CAAC;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFkB;AAC9C;AAE1C,IAAK,iBAIJ;AAJD,WAAK,iBAAiB;IAEpB,+DAAO;IAAE,+DAAO;IAAE,+DAAO;IAAE,yEAAY;IAAE,2EAAa;IACtD,uEAAW;IAAE,qEAAU;AACzB,CAAC,EAJI,iBAAiB,KAAjB,iBAAiB,QAIrB;AAiDD,IAAa,aAAa,GAA1B;IAUE,YAAoB,KAAkB;QAAlB,UAAK,GAAL,KAAK,CAAa;QAR9B,kBAAa,GAAY,IAAI,CAAC;QAC9B,uBAAkB,GAAY,IAAI,CAAC;QACnC,wBAAmB,GAAY,KAAK,CAAC;QACrC,oBAAe,GAAW,OAAO,CAAC;QAClC,uBAAkB,GAAW,UAAU,CAAC;QACxC,oBAAe,GAAY,KAAK,CAAC,CAAC,iFAAiF;QACnH,uBAAkB,GAAY,KAAK,CAAC,CAAC,iFAAiF;QAI5H,EAAE,CAAC,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;YAAE,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;QAEtE,KAAK,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,WAAoB;YAEtD,EAAE,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,CACxB,CAAC;gBACC,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;YAC/C,CAAC;QACH,CAAC,CAAC,CAAC;QAEH,sCAAsC;IACxC,CAAC;IAEO,YAAY,CAAC,KAAwB;QAE3C,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC;QAC/B,IAAI,CAAC,kBAAkB,GAAG,UAAU,CAAC;QACrC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAC/B,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;QACjC,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;QAEhC,MAAM,CAAC,CAAC,KAAK,CAAC,CACd,CAAC;YACC,QAAQ;YACR,KAAK,iBAAiB,CAAC,OAAO;gBAC5B,aAAa;gBACb,KAAK,CAAC;YACR,KAAK,iBAAiB,CAAC,OAAO;gBAC5B,IAAI,CAAC,eAAe,GAAG,YAAY,CAAC;gBACpC,KAAK,CAAC;YACR,KAAK,iBAAiB,CAAC,OAAO;gBAC5B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;gBAC3B,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;gBAChC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;gBAChC,KAAK,CAAC;YACR,KAAK,iBAAiB,CAAC,YAAY;gBACjC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,KAAK,CAAC;YACR,KAAK,iBAAiB,CAAC,aAAa;gBAClC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;gBAC/B,KAAK,CAAC;YACR,KAAK,iBAAiB,CAAC,WAAW;gBAChC,IAAI,CAAC,kBAAkB,GAAG,gBAAgB,CAAC;gBAC3C,KAAK,CAAC;YACR,KAAK,iBAAiB,CAAC,UAAU;gBAC/B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,KAAK,CAAC;QACV,CAAC;IACH,CAAC;IAGa,KAAK,CAAC,KAAa,EAAE,IAAY;;YAE7C,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;YAE7C,IAAI,MAAM,GAAgB,MAAM,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YAE9D,MAAM,CAAC,CAAC,MAAM,CAAC,CACf,CAAC;gBACC,KAAK,0EAAW,CAAC,QAAQ;oBAAE,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;oBACtE,KAAK,CAAC;gBACR,KAAK,0EAAW,CAAC,YAAY;oBAAE,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC;oBAC/E,KAAK,CAAC;gBACR,KAAK,0EAAW,CAAC,aAAa;oBAAE,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,aAAa,CAAC,CAAC;oBACjF,KAAK,CAAC;gBACR;oBAAS,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;oBACpD,KAAK,CAAC;YACV,CAAC;QACH,CAAC;KAAA;IAEa,QAAQ,CAAC,KAAa,EAAE,IAAY;;YAEhD,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;YAEjD,IAAI,MAAM,GAAmB,MAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YAEpE,MAAM,CAAC,CAAC,MAAM,CAAC,CACf,CAAC;gBACC,KAAK,6EAAc,CAAC,UAAU;oBAAE,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;oBAC3E,KAAK,CAAC;gBACR,KAAK,6EAAc,CAAC,UAAU;oBAAE,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;oBAC9E,KAAK,CAAC;gBACR;oBAAS,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;oBACpD,KAAK,CAAC;YACV,CAAC;QACH,CAAC;KAAA;IAEO,MAAM;QAEZ,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;QAEpB,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;IAC/C,CAAC;CACF;AA3GY,aAAa;IA/CzB,+EAAS,CAAC;QACT,QAAQ,EAAE,MAAM;QAChB,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAsCP;QACH,MAAM,EACN,CAAC;;;GAGA,CAAC,CAAC,qDAAqD;KACzD,CAAC;yDAW2B,0EAAW,oBAAX,0EAAW;GAV3B,aAAa,CA2GzB;AA3GyB;;;;;;;;;;;;;;;;;;;;;ACxDwD;AA6BlF,IAAa,qBAAqB,GAAlC;IA1BA;QA4Ba,UAAK,GAAW,IAAI,CAAC;QACrB,gBAAW,GAAW,IAAI,CAAC;QAE1B,eAAU,GAAG,IAAI,2DAAY,EAAU,CAAC;QAE1C,aAAQ,GAAW,IAAI;QACvB,SAAI,GAAY,KAAK,CAAC;QACtB,WAAM,GAAG,KAAK,CAAC;IAyC3B,CAAC;IAvCG,IAAI;QAEA,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC;QAC3B,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,CAAC;IAED,YAAY,CAAC,KAAa;QAEtB,EAAE,CAAC,CAAC,KAAK,IAAI,EAAE,CAAC,CAChB,CAAC;YACG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YAEnB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAE5B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC/B,CAAC;QACD,IAAI,CACJ,CAAC;YACG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC/B,CAAC;QAED,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;IACtB,CAAC;IAED,KAAK;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAChB,CAAC;YACG,MAAM,CAAC,CAAC,4BAA4B;QACxC,CAAC;QACD,IAAI,CACJ,CAAC;YACG,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;YAElB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC/B,CAAC;IACL,CAAC;CACJ;AAhDY;IAAR,2EAAK,EAAE;;oDAAsB;AACrB;IAAR,2EAAK,EAAE;;0DAA4B;AAE1B;IAAT,4EAAM,EAAE;;yDAAyC;AALzC,qBAAqB;IA1BjC,+EAAS,CAAC;QACP,QAAQ,EAAE,eAAe;QACzB,QAAQ,EAAE;;;;;;;;;;;;;;;;;;KAkBT;QACD,MAAM,EACN,CAAC;;KAEA,CAAC;KACL,CAAC;GACW,qBAAqB,CAkDjC;AAlDiC;;;;;;;;;;;;;;;;;;;;AC7BgD;AAmClF,IAAa,sBAAsB,GAAnC;IAhCA;QAkCa,UAAK,GAAW,IAAI,CAAC;QACrB,gBAAW,GAAW,IAAI,CAAC;QAE1B,aAAQ,GAAG,IAAI,2DAAY,EAAU,CAAC;QAExC,aAAQ,GAAW,IAAI;QACvB,SAAI,GAAY,KAAK,CAAC;QACtB,WAAM,GAAG,KAAK,CAAC;IA0C3B,CAAC;IAxCW,IAAI;QAER,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC;IAC/B,CAAC;IAEO,YAAY,CAAC,KAAa;QAE9B,EAAE,CAAC,CAAC,KAAK,IAAI,EAAE,CAAC,CAChB,CAAC;YACG,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,CACxB,CAAC;gBACG,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;gBACnB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBAEnB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACnC,CAAC;QACL,CAAC;QACD,IAAI,CACJ,CAAC;YACG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC/B,CAAC;QAED,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;IACtB,CAAC;IAEO,KAAK;QAET,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAChB,CAAC;YACG,MAAM,CAAC,CAAC,4BAA4B;QACxC,CAAC;QACD,IAAI,CACJ,CAAC;YACG,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;YAElB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC/B,CAAC;IACL,CAAC;CACJ;AAjDY;IAAR,2EAAK,EAAE;;qDAAsB;AACrB;IAAR,2EAAK,EAAE;;2DAA4B;AAE1B;IAAT,4EAAM,EAAE;;wDAAuC;AALvC,sBAAsB;IAhClC,+EAAS,CAAC;QACP,QAAQ,EAAE,gBAAgB;QAC1B,QAAQ;QACR;;;;;;UAME;QACF;;;;;;;;;;;;;;;;KAgBC;QACD,MAAM,EACN,CAAC;;KAEA,CAAC;KACL,CAAC;GACW,sBAAsB,CAmDlC;AAnDkC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnCqC;AACZ;AACb;AAE2C;AAExC;AACQ;AA4D1D,IAAa,iBAAiB,yBAA9B;IAWI,YAAoB,WAAwB,EAAU,MAAa;QAA/C,gBAAW,GAAX,WAAW,CAAa;QAAU,WAAM,GAAN,MAAM,CAAO;QAT1D,cAAS,GAAQ,IAAI,CAAC;QACrB,aAAQ,GAAsB,IAAI,2DAAY,EAAO,CAAC;QAIxD,SAAI,GAAU,EAAE,CAAC;QACjB,gBAAW,GAAQ,IAAI,CAAC;QACxB,cAAS,GAAY,KAAK,CAAC;IAEoC,CAAC;IAExE,WAAW;QAEP,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QAExB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAClC,CAAC;IAED,QAAQ;QAEJ,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,CAC3B,CAAC;YACG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAClC,CAAC;IACL,CAAC;IAEO,gBAAgB;QAEpB,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,CAC7B,CAAC;YACG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAEnC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QAC5B,CAAC;IACL,CAAC;IAEO,MAAM,CAAC,GAAQ;QAEnB,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,GAAG,CAAC,CAC5B,CAAC;YACG,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,CAAC,yCAAyC;YAEjE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAErC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,wBAAwB;QAC7D,CAAC;IACL,CAAC;IAEa,QAAQ,CAAC,SAAc;;YAEjC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;YAEf,IAAI,QAAQ,GAAG,SAAS,IAAI,IAAI,GAAG,SAAS,CAAC,EAAE,GAAG,yEAAS,CAAC;YAC5D,IACA,CAAC;gBACG,IAAI,IAAI,GAAU,MAAM,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;gBAE/D,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBAEvB,EAAE,CAAC,CAAC,mBAAiB,CAAC,SAAS,IAAI,IAAI,CAAC;oBACpC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,mBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC,8BAA8B;gBACxG,IAAI;oBACA,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;gBAErB,8DAA8D;gBAC9D,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,IAAI,yEAAS,CAAC,CAC/D,CAAC;oBACG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC9B,CAAC;YACL,CAAC;YACD,KAAK,CAAC,CAAC,EAAE,CAAC,CACV,CAAC;gBACG,EAAE,CAAC,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,KAAK,8EAAe,CAAC,IAAI,CAAC,CACjD,CAAC;oBACG,IAAI,eAAe,GAAoB,EAAqB,CAAC;oBAC7D,IAAI,aAAa,GAAkB,eAAe,CAAC,IAAI,CAAC;oBAExD,MAAM,CAAC,CAAC,aAAa,CAAC,CACtB,CAAC;wBACG,SAAS,KAAK,CAAC;oBACnB,CAAC;gBACL,CAAC;YACL,CAAC;QACL,CAAC;KAAA;IAEa,WAAW,CAAC,KAAa;;YAEnC,EAAE,CAAC,CAAC,KAAK,IAAI,EAAE,CAAC,CAChB,CAAC;gBACG,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,yEAAS,CAAC;gBAEtE,IACA,CAAC;oBACG,IAAI,MAAM,GAAQ,MAAM,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;oBAErE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBACvB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBACxB,CAAC;gBACD,KAAK,CAAC,CAAC,EAAE,CAAC,CACV,CAAC;oBACG,EAAE,CAAC,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,KAAK,8EAAe,CAAC,IAAI,CAAC,CACjD,CAAC;wBACG,IAAI,eAAe,GAAoB,EAAqB,CAAC;wBAC7D,IAAI,aAAa,GAAkB,eAAe,CAAC,IAAI,CAAC;wBAExD,MAAM,CAAC,CAAC,aAAa,CAAC,CACtB,CAAC;4BACG,SAAS,KAAK,CAAC;wBACnB,CAAC;oBACL,CAAC;gBACL,CAAC;YACL,CAAC;QACL,CAAC;KAAA;IAEa,SAAS,CAAC,GAAQ;;YAE5B,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;YAEjC,IACA,CAAC;gBACG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YACvC,CAAC;YACD,KAAK,CAAC,CAAC,EAAE,CAAC,CACV,CAAC;gBACG,EAAE,CAAC,CAAC,EAAE,IAAI,GAAG,CAAC;oBAAC,KAAK,CAAC,sCAAsC,CAAC,CAAC,CAAC,0BAA0B;gBACxF,IAAI;oBACA,KAAK,CAAC,2BAA2B,GAAG,EAAE,CAAC,CAAC;YAChD,CAAC;QACL,CAAC;KAAA;IAEO,SAAS,CAAC,GAAQ;QAEtB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5C,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC5B,CAAC;IAEa,MAAM,CAAC,GAAQ;;YAEzB,EAAE,CAAC,CAAC,OAAO,CAAC,WAAY,GAAG,CAAC,KAAM,IAAI,CAAC,CAAC,CACxC,CAAC;gBACG,IACA,CAAC;oBACG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;oBAEtC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;gBACxB,CAAC;gBACD,KAAK,CAAC,CAAC,EAAE,CAAC,CACV,CAAC;oBACG,EAAE,CAAC,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,KAAK,8EAAe,CAAC,IAAI,CAAC,CACjD,CAAC;wBACG,IAAI,eAAe,GAAoB,EAAqB,CAAC;wBAC7D,IAAI,aAAa,GAAkB,eAAe,CAAC,IAAI,CAAC;wBAExD,MAAM,CAAC,CAAC,aAAa,CAAC,CACtB,CAAC;4BACG,SAAS,KAAK,CAAC;wBACnB,CAAC;oBACL,CAAC;gBACL,CAAC;YACL,CAAC;QACL,CAAC;KAAA;IAEO,aAAa;QAEjB,MAAM,CAAC,CAAC,mBAAiB,CAAC,SAAS,IAAI,IAAI,CAAC,GAAG,mBAAiB,CAAC,SAAS,CAAC,KAAK,GAAG,EAAE,CAAC;IAC1F,CAAC;IAEO,aAAa;QAEjB,MAAM,CAAC,mBAAiB,CAAC,SAAS,IAAI,IAAI,CAAC;IAC/C,CAAC;IAEO,wBAAwB,CAAC,MAAM;QAEnC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC7B,CAAC;IAEO,qBAAqB,CAAC,MAAM;QAEhC,mBAAiB,CAAC,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC;QAE1C,OAAO,CAAC,GAAG,CAAC,WAAY,mBAAiB,CAAC,SAAS,CAAC,KAAM,EAAE,CAAC,CAAC;QAE9D,IAAI,CAAC,SAAS,CAAC,mBAAiB,CAAC,SAAS,CAAC,CAAC;IAChD,CAAC;IAEa,8BAA8B,CAAC,MAAM;;YAE/C,EAAE,CAAC,CAAC,mBAAiB,CAAC,SAAS,IAAI,IAAI,CAAC,CACxC,CAAC;gBACG,IAAI,cAAc,GAAQ,MAAM,CAAC,IAAI,CAAC;gBAEtC,OAAO,CAAC,GAAG,CAAC,YAAa,mBAAiB,CAAC,SAAS,CAAC,KAAM,kBAAmB,cAAc,CAAC,KAAM,MAAM,CAAC,CAAC;gBAE3G,mBAAiB,CAAC,SAAS,CAAC,QAAQ,GAAG,cAAc,CAAC,QAAQ,CAAC;gBAE/D,MAAM,IAAI,CAAC,SAAS,CAAC,mBAAiB,CAAC,SAAS,CAAC,CAAC;gBAElD,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;gBAC5B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAiB,CAAC,SAAS,CAAC,CAAC;gBAC5C,IAAI,CAAC,MAAM,CAAC,mBAAiB,CAAC,SAAS,CAAC,CAAC;gBAEzC,mBAAiB,CAAC,SAAS,GAAG,IAAI,CAAC;YACvC,CAAC;QACL,CAAC;KAAA;CACL;AA3MmB,2BAAS,GAAQ,IAAI,CAAC,CAAC,2EAA2E;AAHxG;IAAR,2EAAK,EAAE;kDAAY,8DAAG,oBAAH,8DAAG;oDAAQ;AACrB;IAAT,4EAAM,EAAE;kDAAW,2DAAY,oBAAZ,2DAAY;mDAAgC;AAHvD,iBAAiB;IAzD7B,+EAAS,CAAC;QACP,QAAQ,EAAE,WAAW;QACrB,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAoDT;QACD,kCAAsC;KACzC,CAAC;yDAYmC,2EAAW,oBAAX,2EAAW,sDAAkB,wEAAK,oBAAL,wEAAK;GAX1D,iBAAiB,CAgN9B;AAhN8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnE8B;AAEV;AAyBlD,IAAa,oBAAoB,GAAjC;IAQI,YAAoB,YAAyB;QAAzB,iBAAY,GAAZ,YAAY,CAAa;QANrC,gBAAW,GAAQ,IAAI,CAAC;QAExB,eAAU,GAAW,MAAM,CAAC;QAC5B,YAAO,GAAW,EAAE,CAAC;IAGoB,CAAC;IAE1C,QAAQ,CAAC,GAAQ;QAErB,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;QAEvB,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,CAChB,CAAC;YACG,OAAO,CAAC,GAAG,CAAC,gBAAgB,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC;QACjG,CAAC;IACL,CAAC;IAEa,IAAI;;YAEd,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC;YAE9B,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;YAExC,IACA,CAAC;gBACG,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAEjD,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;YAC7B,CAAC;YACD,KAAK,CAAC,CAAC,EAAE,CAAC,CACV,CAAC;gBACG,KAAK,CAAC,wBAAwB,GAAG,EAAE,CAAC,CAAC;YACzC,CAAC;QACL,CAAC;KAAA;CACL;AArCa,oBAAoB;IAvBhC,+EAAS,CAAC;QACP,QAAQ,EAAE,MAAM;QAChB,QAAQ,EAAE;;;;;;;;;;;;;;;;;;KAkBT;QACD,kCAAiC;KACpC,CAAC;yDASoC,2EAAW,oBAAX,2EAAW;GARpC,oBAAoB,CAqCjC;AArCiC;;;;;;;;;;AC3B3B;CAGL;AAAA;AAAA;;;;;;;;;ACHK;CAGL;AAAA;AAAA;;;;;;;;;ACAK;IAMF,YAAmB,IAA8B;QAE7C,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC9B,CAAC;CACJ;AAAA;AAAA;;;;;;;;;ACVK;IAIF,YAAmB,IAAkC;QAEjD,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC9B,CAAC;CACJ;AAAA;AAAA;;;;;;;;;ACPK;IAIF,YAAmB,IAA6B;QAE5C,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC9B,CAAC;CACJ;AAAA;AAAA;;;;;;;;;ACTK;IAKF,YAAmB,IAA0B;QAEzC,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC9B,CAAC;CACJ;AAAA;AAAA;;;;;;;;;ACRK;IAOF,YAAmB,GAAQ;QAEvB,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;QACjB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;QAC7B,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;QACvB,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC;IAC/B,CAAC;CACJ;AAAA;AAAA;;;;;;;;;ACfK;IAKF,YAAmB,IAAiC;QAEhD,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC9B,CAAC;CACJ;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZqD;AACyB;AACe;AACH;AACnB;AAC3B;AACI;AACgB;AAClB;AACF;AACY;AA2BzD,IAAa,UAAU,GAAvB;CAA2B;AAAd,UAAU;IAzBtB,8EAAQ,CAAC;QACR,OAAO,EACP;YACE,mEAAW;YACX,iEAAU;YACV,6DAAY;YACZ,2DAAW,CAAC,OAAO,EAAE;YACrB,wEAAiB;SAClB;QACD,OAAO,EACP;YACE,6FAAoB;SACrB;QACD,YAAY,EACZ;YACE,mHAAsB;YACtB,gHAAqB;YACrB,oGAAiB;YACjB,6FAAoB;SACrB;QACD,SAAS,EACT;YACE,2EAAW;SACZ;KACF,CAAC;GACW,UAAU,CAAI;AAAJ;;;;;;;;;ACrCvB,mFAAmF;AACnF,8FAA8F;AAC9F,yEAAyE;AACzE,gFAAgF;AAEhF,mFALmF;AAK5E,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;AAAA;AAAA;;;;;;;;;;ACPF,IAAY,aAcX;AAdD,WAAY,aAAa;IAErB,6EAAsB;IACtB,iFAAoB;IACpB,+FAA2B;IAC3B,iEAAY;IACZ,mEAAa;IACb,6DAAU;IACV,mEAAa;IACb,iEAAY;IACZ,yEAAgB;IAChB,gFAAmB;IACnB,0EAAgB;IAChB,4EAAiB;AACrB,CAAC,EAdW,aAAa,KAAb,aAAa,QAcxB;;;;;;;;;;;;ACdwF;AACzC;AAE1C;IAOF,YAAmB,IAAmB;QAElC,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC9B,CAAC;CACJ;AAAA;AAAA;AAEM,MAAM,iBAAiB,GAC1B;IACI,EAAE,IAAI,EAAE,qEAAa,CAAC,kBAAkB,EAAE,OAAO,EAAE,qBAAqB,EAAE,UAAU,EAAE,wEAAqB,EAAE;IAC7G,EAAE,IAAI,EAAE,qEAAa,CAAC,oBAAoB,EAAE,OAAO,EAAE,iBAAiB,EAAE,UAAU,EAAE,8DAAW,EAAE;IACjG,EAAE,IAAI,EAAE,qEAAa,CAAC,2BAA2B,EAAE,OAAO,EAAE,wBAAwB,EAAE,UAAU,EAAE,8DAAW,EAAE;IAC/G,EAAE,IAAI,EAAE,qEAAa,CAAC,YAAY,EAAE,OAAO,EAAE,cAAc,EAAE,UAAU,EAAE,+DAAY,EAAE;IACvF,EAAE,IAAI,EAAE,qEAAa,CAAC,aAAa,EAAE,OAAO,EAAE,gBAAgB,EAAE,UAAU,EAAE,+DAAY,EAAE;IAC1F,EAAE,IAAI,EAAE,qEAAa,CAAC,UAAU,EAAE,OAAO,EAAE,qBAAqB,EAAE,UAAU,EAAE,+DAAY,EAAE;IAC5F,EAAE,IAAI,EAAE,qEAAa,CAAC,aAAa,EAAE,OAAO,EAAE,iBAAiB,EAAE,UAAU,EAAE,+DAAY,EAAE;IAC3F,EAAE,IAAI,EAAE,qEAAa,CAAC,YAAY,EAAE,OAAO,EAAE,eAAe,EAAE,UAAU,EAAE,+DAAY,EAAE;IACxF,EAAE,IAAI,EAAE,qEAAa,CAAC,gBAAgB,EAAE,OAAO,EAAE,oBAAoB,EAAE,UAAU,EAAE,+DAAY,EAAE;IACjG,EAAE,IAAI,EAAE,qEAAa,CAAC,mBAAmB,EAAE,OAAO,EAAE,uBAAuB,EAAE,UAAU,EAAE,+DAAY,EAAE;IACvG,EAAE,IAAI,EAAE,qEAAa,CAAC,gBAAgB,EAAE,OAAO,EAAE,oBAAoB,EAAE,UAAU,EAAE,+DAAY,EAAE;IACjG,EAAE,IAAI,EAAE,qEAAa,CAAC,iBAAiB,EAAE,OAAO,EAAE,oBAAoB,EAAE,UAAU,EAAE,8DAAW,EAAE;CACpG,CAAC;AAAA;AAAA;;;;;;;;AC9BN;AACA;;;AAGA;AACA,gCAAiC,0BAA0B,kBAAkB,kBAAkB,2BAA2B,2BAA2B,oBAAoB,mCAAmC,oCAAoC,qCAAqC,qCAAqC,mBAAmB,IAAI,eAAe,6BAA6B,6BAA6B,sBAAsB,gCAAgC,iCAAiC,6CAA6C,wBAAwB,gBAAgB,oBAAoB,GAAG,0BAA0B,2BAA2B,uBAAuB,uBAAuB,uBAAuB,mBAAmB,mBAAmB,iBAAiB,IAAI,mBAAmB,0BAA0B,sBAAsB,sBAAsB,2BAA2B,GAAG,mBAAmB,wBAAwB,GAAG;;AAEv7B;;;AAGA;AACA,2C;;;;;;;ACXA;AACA;;;AAGA;AACA,uCAAwC,wBAAwB,GAAG,yBAAyB,uBAAuB,GAAG,wBAAwB,sBAAsB,GAAG;;AAEvK;;;AAGA;AACA,2C;;;;;;;ACXA;AACA;;;AAGA;AACA,yCAA0C,0BAA0B,sBAAsB,sBAAsB,4BAA4B,4BAA4B,qBAAqB,GAAG,gBAAgB,2BAA2B,uBAAuB,uBAAuB,iBAAiB,uBAAuB,qBAAqB,8BAA8B,GAAG,4BAA4B,wBAAwB,GAAG,kCAAkC,4BAA4B;;AAE5e;;;AAGA;AACA,2C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACX4D;AACnB;AAEU;AAEA;AACZ;AAEoC;AAEZ;AAE/D,IAAY,WAAoF;AAAhG,WAAY,WAAW;IAAG,qDAAQ;IAAE,6DAAY;IAAE,+DAAa;IAAE,yDAAU;IAAE,uEAAiB;AAAC,CAAC,EAApF,WAAW,KAAX,WAAW,QAAyE;AAChG,IAAY,cAA4D;AAAxE,WAAY,cAAc;IAAG,+DAAU;IAAE,+DAAU;IAAE,6EAAiB;AAAC,CAAC,EAA5D,cAAc,KAAd,cAAc,QAA8C;AAIxE,IAAa,WAAW,GAAxB;IAII,YAAoB,KAAc,EAAU,QAAwB;QAAhD,UAAK,GAAL,KAAK,CAAS;QAAU,aAAQ,GAAR,QAAQ,CAAgB;QAEhE,OAAO,CAAC,GAAG,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,UAAU,EAAE,GAAG,uBAAuB,GAAG,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE,GAAG,eAAe,CAAC,CAAC,CAAC;QAE5H,IAAI,CAAC,WAAW,GAAG,IAAI,qDAAO,EAAE,CAAC;IACrC,CAAC;IAED,IAAW,kBAAkB;QAEzB,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC;IAC5B,CAAC;IAEM,UAAU;QAEb,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE,KAAK,IAAI,CAAC,CAAC;IACtD,CAAC;IAEY,KAAK,CAAC,KAAa,EAAE,IAAY;;YAE1C,IACA,CAAC;gBACG,4DAA4D;gBAC5D,IAAI;gBACJ,qCAAqC;gBACrC,IAAI;gBACJ,8BAA8B;gBAC9B,IAAI,QAAQ,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,8EAAU,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;gBAEvF,OAAO,CAAC,GAAG,CAAC,SAAS,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;gBAExC,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBAE9C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAE5B,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC;YAChC,CAAC;YACD,KAAK,CAAC,CAAC,EAAE,CAAC,CACV,CAAC;gBACG,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,EAAE,CAAC,CAAC;gBAErC,EAAE,CAAC,CAAC,EAAE,YAAY,8EAAe,CAAC,CAClC,CAAC;oBACG,IAAI,eAAe,GAAoB,EAAqB,CAAC;oBAE7D,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,eAAe,CAAC,CAAC;oBAE5C,MAAM,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,CAC7B,CAAC;wBACG,KAAK,mFAAa,CAAC,aAAa,EAAE,MAAM,CAAC,WAAW,CAAC,YAAY,CAAC;wBAClE,KAAK,mFAAa,CAAC,aAAa,EAAE,MAAM,CAAC,WAAW,CAAC,aAAa,CAAC;wBACnE,SAAS,MAAM,CAAC,WAAW,CAAC,iBAAiB,CAAC;oBAClD,CAAC;gBACL,CAAC;gBACD,IAAI,CACJ,CAAC;oBACG,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;oBACxB,MAAM,CAAC,WAAW,CAAC,iBAAiB,CAAC;gBACzC,CAAC;YACL,CAAC;QACL,CAAC;KAAA;IAGY,QAAQ,CAAC,KAAa,EAAE,IAAY;;YAE7C,IACA,CAAC;gBACG,IAAI,QAAQ,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,qFAAiB,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;gBAE9F,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC;gBAEtC,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBAE9C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAE5B,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC;YACrC,CAAC;YACD,KAAK,CAAC,CAAC,EAAE,CAAC,CACV,CAAC;gBACG,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,EAAE,CAAC,CAAC;gBAExC,EAAE,CAAC,CAAC,EAAE,YAAY,8EAAe,CAAC,CAClC,CAAC;oBACG,IAAI,eAAe,GAAoB,EAAqB,CAAC;oBAE7D,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,eAAe,CAAC,CAAC;oBAE5C,MAAM,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,CAC7B,CAAC;wBACG,KAAK,mFAAa,CAAC,UAAU,EAAE,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC;wBAChE,SAAS,MAAM,CAAC,cAAc,CAAC,iBAAiB,CAAC;oBACrD,CAAC;gBACL,CAAC;gBACD,IAAI,CACJ,CAAC;oBACG,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;oBACxB,MAAM,CAAC,cAAc,CAAC,iBAAiB,CAAC;gBAC5C,CAAC;YACL,CAAC;QACL,CAAC;KAAA;IAEM,MAAM;QAET,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;QAClC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACjC,CAAC;CACJ;AA7GY,WAAW;IADvB,gFAAU,EAAE;yDAKkB,8DAAO,oBAAP,8DAAO,sDAAoB,wEAAc,oBAAd,wEAAc;GAJ3D,WAAW,CA6GvB;AA7GuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBmE;AAChB;AAG1B;AAEuB;AAC7B;AACW;AAClB;AACyB;AAG7D,IAAa,OAAO,GAApB;IAII,YACY,KAAW,EACX,QAAwB,EACxB,aAA2B;QAF3B,UAAK,GAAL,KAAK,CAAM;QACX,aAAQ,GAAR,QAAQ,CAAgB;QACxB,kBAAa,GAAb,aAAa,CAAc;QAL/B,QAAG,GAAW,aAAa,CAAC;QAOhC,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CACvB,CAAC;YACG,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;YAE/B,IAAI,CAAC,GAAG,GAAG,aAAa,CAAC;QAC7B,CAAC;QACD,IAAI,CACJ,CAAC;YACG,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YAE1B,IAAI,CAAC,GAAG,GAAG,mCAAmC,CAAC;QACnD,CAAC;IACL,CAAC;IAGY,IAAI,CAAC,OAA+B;;YAE7C,sCAAsC;YAEtC,4DAA4D;YAC5D,MAAM,cAAc,GAAG,EAAE,CAAC;YAC1B,cAAc,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC;YACnD,MAAM,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;YAErD,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,aAAa,CAAC,CAAC;YAG/C,MAAM,OAAO,GAAG,IAAI,8DAAO,CACvB;gBACI,cAAc,EAAE,kBAAkB;gBAClC,eAAe,EAAE,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE;aACnD,CAAC,CAAC;YACP,MAAM,OAAO,GAAG,IAAI,qEAAc,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC;YAEzD,IACA,CAAC;gBACG,IAAI,QAAQ,GAAa,MAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,aAAa,EAAE,OAAO,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,CAAC;gBAC3G,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAC,QAAQ,CAAC,CAAC;gBAEvC,EAAE,CAAC,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,CAC3B,CAAC;oBACG,IAAI,gBAAgB,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;oBAEvC,OAAO,CAAC,GAAG,CAAC,kBAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC,CAAC;oBAEnE,MAAM,CAAC,gBAAgB,CAAC;gBAC5B,CAAC;gBACD,IAAI,CACJ,CAAC;oBACG,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;oBAEvC,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;YACL,CAAC;YACD,KAAK,CAAC,CAAC,EAAE,CAAC,CACV,CAAC;gBACG,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,EAAE,CAAC,CAAC;gBAElC,EAAE,CAAC,CAAC,EAAE,YAAY,kDAAY,CAAC,CAC/B,CAAC;oBACG,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;oBACvB,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAC;oBAE/C,MAAM,IAAI,0GAA0B,EAAE,CAAC;gBAC3C,CAAC;gBACD,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,YAAY,+DAAQ,CAAC,CAChC,CAAC;oBACG,EAAE,CAAC,CAAC,EAAE,CAAC,MAAM,KAAK,CAAC,CAAC,CACpB,CAAC;wBACG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,0BAA0B,CAAC,CAAC;wBACrD,4CAA4C;oBAChD,CAAC;oBACD,IAAI,CACJ,CAAC;wBACG,IAAI,eAAe,GAAoB,EAAE,CAAC,IAAI,EAAE,CAAC;wBAEjD,OAAO,CAAC,GAAG,CAAC,+BAA+B,EAAE,eAAe,CAAC,CAAC;wBAC9D,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;wBAElD,MAAM,IAAI,8EAAe,CAAC,eAAe,CAAC,CAAC;wBAC3C,wBAAwB;oBAC5B,CAAC;gBACL,CAAC;gBACD,IAAI,CACJ,CAAC;oBACG,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;oBACxC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC;oBAChD,MAAM,IAAI,0FAAkB,EAAE,CAAC;gBACnC,CAAC;YACL,CAAC;YAGD,oBAAoB;YACpB,8CAA8C;YAC9C,uBAAuB;YACvB,QAAQ;YACR,sCAAsC;YACtC,YAAY;YACZ,sCAAsC;YACtC,YAAY;YACZ,gBAAgB;YAChB,YAAY;YACZ,2BAA2B;YAC3B,YAAY;YACZ,SAAS;YACT,gBAAgB;YAChB,QAAQ;YACR,0EAA0E;YAC1E,SAAS;YACT,uBAAuB;YACvB,QAAQ;YACR,6DAA6D;YAE7D,6CAA6C;YAC7C,UAAU;QACd,CAAC;KAAA;CACJ;AA7HY,OAAO;IADnB,gFAAU,EAAE;yDAMU,2DAAI,oBAAJ,2DAAI,sDACD,wEAAc,oBAAd,wEAAc,sDACT,mEAAY,oBAAZ,mEAAY;GAP9B,OAAO,CA6HnB;AA7HmB;;;;;;;;;;;;;;;;;;;;;;ACZuB;AAG3C,IAAa,cAAc,GAA3B;IAII;QAFQ,uBAAkB,GAAG,eAAe,CAAC;QAIzC,EAAE,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,WAAW,CAAC,CACrC,CAAC;YACG,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;QAC3C,CAAC;IACL,CAAC;IAEM,eAAe,CAAC,KAAW;QAE9B,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;IACzD,CAAC;IACM,iBAAiB;QAEpB,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC;IACtD,CAAC;IAEM,eAAe;QAElB,IAAI,KAAK,GAAW,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QAElE,EAAE,CAAC,CAAC,KAAK,KAAK,EAAE,CAAC;YAAC,KAAK,GAAG,IAAI,CAAC;QAE/B,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;CACJ;AA7BY,cAAc;IAD1B,gFAAU,EAAE;;GACA,cAAc,CA6B1B;AA7B0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHc;AACG;AAID;AACN;AAC6E;AAGlH,IAAa,WAAW,GAAxB;IAEI,YAAoB,KAAc;QAAd,UAAK,GAAL,KAAK,CAAS;IAAI,CAAC;IAE1B,WAAW,CAAC,QAAc;;YAEnC,MAAM,CAAC,MAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,iFAAa,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;QAC5E,CAAC;KAAA;IAEY,UAAU,CAAC,QAAc,EAAE,KAAa;;YAEjD,MAAM,EAAE,GAAS,mDAAI,CAAC,IAAI,EAAE,CAAC;YAC7B,MAAM,GAAG,GAAG,IAAI,8DAAG,EAAE,CAAC;YAEtB,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC;YACZ,GAAG,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACxB,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC;YAClB,GAAG,CAAC,OAAO,GAAG,EAAE,CAAC;YAEjB,MAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,kFAAc,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;YAExF,MAAM,CAAC,GAAG,CAAC,CAAC,qBAAqB;QACrC,CAAC;KAAA;IAEY,MAAM,CAAC,GAAQ;;YAExB,MAAM,CAAC,MAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,qFAAiB,CAAC,GAAG,CAAC,CAAC,CAAC;QAC7D,CAAC;KAAA;IAEY,MAAM,CAAC,EAAQ;;YAExB,MAAM,CAAC,MAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,sFAAkB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;QACrE,CAAC;KAAA;CACJ;AAjCY,WAAW;IADvB,gFAAU,EAAE;yDAGkB,8DAAO,oBAAP,8DAAO;GAFzB,WAAW,CAiCvB;AAjCuB;;;;;;;;;;ACTlB,UAAW,uCAAuC;;CAMvD;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;ACR0C;AACI;AAG/C,IAAa,YAAY,GAAzB;IAEI,YAAoB,MAAkB;QAAlB,WAAM,GAAN,MAAM,CAAY;IAGtC,CAAC;IAEM,KAAK,CAAC,OAAe;QAExB,OAAO,CAAC,GAAG,CAAC,SAAS,GAAC,OAAO,CAAC,CAAC;QAC/B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;IACrF,CAAC;CACJ;AAZY,YAAY;IADxB,gFAAU,EAAE;yDAGmB,qEAAU,oBAAV,qEAAU;GAF7B,YAAY,CAYxB;AAZwB;;;;;;;;;;;;;;;;;;;;;;ACJ+B;AACd;AACgB;AACF;AACR;AACE;AAE6D;;;;;;;;;;ACP/G,IAAY,aAcX;AAdD,WAAY,aAAa;IAErB,6EAAsB;IACtB,iFAAoB;IACpB,+FAA2B;IAC3B,iEAAY;IACZ,mEAAa;IACb,6DAAU;IACV,mEAAa;IACb,iEAAY;IACZ,yEAAgB;IAChB,gFAAmB;IACnB,0EAAgB;IAChB,4EAAiB;AACrB,CAAC,EAdW,aAAa,KAAb,aAAa,QAcxB;;;;;;;;;;;;ACdwF;AACzC;AAE1C;IAOF,YAAmB,IAAmB;QAElC,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC9B,CAAC;CACJ;AAAA;AAAA;AAEM,MAAM,iBAAiB,GAC1B;IACI,EAAE,IAAI,EAAE,qEAAa,CAAC,kBAAkB,EAAE,OAAO,EAAE,qBAAqB,EAAE,UAAU,EAAE,wEAAqB,EAAE;IAC7G,EAAE,IAAI,EAAE,qEAAa,CAAC,oBAAoB,EAAE,OAAO,EAAE,iBAAiB,EAAE,UAAU,EAAE,8DAAW,EAAE;IACjG,EAAE,IAAI,EAAE,qEAAa,CAAC,2BAA2B,EAAE,OAAO,EAAE,wBAAwB,EAAE,UAAU,EAAE,8DAAW,EAAE;IAC/G,EAAE,IAAI,EAAE,qEAAa,CAAC,YAAY,EAAE,OAAO,EAAE,cAAc,EAAE,UAAU,EAAE,+DAAY,EAAE;IACvF,EAAE,IAAI,EAAE,qEAAa,CAAC,aAAa,EAAE,OAAO,EAAE,gBAAgB,EAAE,UAAU,EAAE,+DAAY,EAAE;IAC1F,EAAE,IAAI,EAAE,qEAAa,CAAC,UAAU,EAAE,OAAO,EAAE,qBAAqB,EAAE,UAAU,EAAE,+DAAY,EAAE;IAC5F,EAAE,IAAI,EAAE,qEAAa,CAAC,aAAa,EAAE,OAAO,EAAE,iBAAiB,EAAE,UAAU,EAAE,+DAAY,EAAE;IAC3F,EAAE,IAAI,EAAE,qEAAa,CAAC,YAAY,EAAE,OAAO,EAAE,eAAe,EAAE,UAAU,EAAE,+DAAY,EAAE;IACxF,EAAE,IAAI,EAAE,qEAAa,CAAC,gBAAgB,EAAE,OAAO,EAAE,oBAAoB,EAAE,UAAU,EAAE,+DAAY,EAAE;IACjG,EAAE,IAAI,EAAE,qEAAa,CAAC,mBAAmB,EAAE,OAAO,EAAE,uBAAuB,EAAE,UAAU,EAAE,+DAAY,EAAE;IACvG,EAAE,IAAI,EAAE,qEAAa,CAAC,gBAAgB,EAAE,OAAO,EAAE,oBAAoB,EAAE,UAAU,EAAE,+DAAY,EAAE;IACjG,EAAE,IAAI,EAAE,qEAAa,CAAC,iBAAiB,EAAE,OAAO,EAAE,oBAAoB,EAAE,UAAU,EAAE,8DAAW,EAAE;CACpG,CAAC;AAAA;AAAA","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 161;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 161\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { AuthService } from './services/AuthService';\nimport { MdSnackBar } from '@angular/material';\nimport { AuthComponent } from './components/auth/auth.component';\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  template: `\n \n    <div class=\"header\">      \n       <span class=\"title\">Recursive Notepad</span> \n       <auth></auth>        \n    </div>\n         \n    <button *ngIf=\"!showTabs\" (click)=\"Demo()\" class=\"margin-top btn btn-danger center-block\">See Example</button>\n    <tabs *ngIf=\"showTabs\"></tabs>\n<!--\n    <button md-button (click)=\"openSnackBar()\">\n      Snack test!\n    </button>\n-->\n    <simple-clock theme=\"gray\" (clicked)=\"OnClockClick($event)\"></simple-clock>\n\n    `,\n  styleUrls: ['app.component.css']\n})\nexport class AppComponent\n{\n  showTabs: boolean = false;\n\n  constructor(private _auth: AuthService, public _snackBar: MdSnackBar)\n  {\n    this.showTabs = _auth.IsLoggedIn();\n\n    _auth.LoginStatusChanged.subscribe((loginStatus: boolean) => this.showTabs = loginStatus);\n  }\n\n  openSnackBar()\n  {\n    this._snackBar.open(\"yo!\", null, { duration: 1000 });\n  }\n\n  OnClockClick(event)\n  {\n    console.log('Clock clicked, event args: ', event.detail.foo);\n    this._snackBar.open(\"This Clock is a Web Component :)\", \"\", { duration: 3000 });\n  }\n\n  Demo()\n  {\n    this._auth.Login(\"demo@demo.com\", \"demo\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { AuthService } from './services/AuthService';\nimport { CqrsBus } from './services/cqrs/CqrsBus';\nimport { SnackService } from './services/ErrorService';\nimport { MdSnackBar, MaterialModule } from '@angular/material';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { TabsModule } from './tabs.module';\nimport { AuthComponent } from './components/auth/auth.component';\nimport { StorageService } from './services/storage.service';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport { AppComponent } from './app.component';\n\n\n@NgModule({\n  declarations:\n  [\n    AppComponent,\n    AuthComponent\n  ],\n  imports:\n  [\n    BrowserModule,\n    BrowserAnimationsModule,\n    FormsModule,\n    HttpModule,\n    TabsModule,\n    MaterialModule\n  ],\n  providers:\n  [\n    CqrsBus,\n    StorageService,\n    AuthService,\n    MdSnackBar,\n    SnackService\n  ],\n  bootstrap:\n  [\n    AppComponent\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class AppModule { }\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { guid } from 'app/common/types';\n\nexport const EmptyGuid: guid = \"00000000-0000-0000-0000-000000000000\";\n\n\n// WEBPACK FOOTER //\n// ./src/app/common/guid.extension.ts","import { AuthService, LoginStatus, RegisterStatus } from './../../services/AuthService';\nimport { Component } from '@angular/core';\n\nenum AuthFormViewState\n{\n  Initial, Logging, LogedIn, UserNotFound, WrongPassword,\n  Registering, EmailTaken\n}\n\n@Component({\n  selector: 'auth',\n  template: `\n\n    <div class=\"form-inline\">\n    \n      <div class=\"form-group\">\n        <input type=\"text\" #email                  \n              [ngClass]=\"{ 'alert-danger': emailInputError, 'hide': !inputsVisible }\"\n              placeholder=\"E-mail\"\n              class=\"form-control\"\n              (keydown.enter)=\"Login(email.value, pass.value)\"\n              value=\"\">\n      </div>\n   \n      <div class=\"form-group\" >   \n        <input type=\"password\" #pass                \n              [ngClass]=\"{ 'alert-danger': passwordInputError, 'hide': !inputsVisible }\"\n              placeholder=\"Password\" \n              class=\"form-control\"\n              (keydown.enter)=\"Login(email.value, pass.value)\"\n              value=\"\">\n      </div> \n    \n      <div class=\"form-group\">\n        <button *ngIf=\"loginButtonVisible\"\n                (click)=\"Login(email.value, pass.value)\"\n                class=\"btn btn-primary\">{{ loginButtonText }}</button>\n        <button *ngIf=\"logoutButtonVisible\" \n                (click)=\"Logout()\"\n                class=\"btn\">Logout</button> \n      </div> \n      \n      <div class=\"form-group\">\n        <button *ngIf=\"loginButtonVisible\"\n                (click)=\"Register(email.value, pass.value)\"\n                class=\"btn btn-default\">{{ registerButtonText }}</button>    \n      </div>\n\n    </div>\n    `,\n  styles:\n  [`\n    .little-margin-top { margin-top: 12px }\n    .hide { display: none } \n  `] // because [hidden] is not working with .form-control\n})\nexport class AuthComponent \n{\n  private inputsVisible: boolean = true;\n  private loginButtonVisible: boolean = true;\n  private logoutButtonVisible: boolean = false;\n  private loginButtonText: string = \"Login\";\n  private registerButtonText: string = \"Register\";\n  private emailInputError: boolean = false; // to nie powinno mieć nazwy określającej błąd a coś bardziej powiązanego z ramką\n  private passwordInputError: boolean = false; // to nie powinno mieć nazwy określającej błąd a coś bardziej powiązanego z ramką\n\n  constructor(private _auth: AuthService)\n  {\n    if (_auth.IsLoggedIn())  this.SetFormState(AuthFormViewState.LogedIn);\n\n    _auth.LoginStatusChanged.subscribe((loginStatus: boolean) => \n    {\n      if (loginStatus == true)\n      {\n        this.SetFormState(AuthFormViewState.LogedIn);\n      }\n    });\n\n    // TODO nasłuchiwanie zmian w serwisie\n  }\n\n  private SetFormState(state: AuthFormViewState)\n  {\n    this.inputsVisible = true;\n    this.loginButtonText = \"Login\";\n    this.registerButtonText = \"Register\";\n    this.loginButtonVisible = true;\n    this.logoutButtonVisible = false;\n    this.emailInputError = false;\n    this.passwordInputError = false;\n\n    switch (state)\n    {\n      default:\n      case AuthFormViewState.Initial:\n        // do nothing\n        break;\n      case AuthFormViewState.Logging:\n        this.loginButtonText = \"Logging...\";\n        break;\n      case AuthFormViewState.LogedIn:\n        this.inputsVisible = false;\n        this.loginButtonVisible = false;\n        this.logoutButtonVisible = true;\n        break;\n      case AuthFormViewState.UserNotFound:\n        this.emailInputError = true;\n        break;\n      case AuthFormViewState.WrongPassword:\n        this.passwordInputError = true;\n        break;\n      case AuthFormViewState.Registering:\n        this.registerButtonText = \"Registering...\";\n        break;\n      case AuthFormViewState.EmailTaken:\n        this.emailInputError = true;\n        break;\n    }\n  }\n\n\n  private async Login(email: string, pass: string): Promise<void>\n  {\n    this.SetFormState(AuthFormViewState.Logging);\n\n    let status: LoginStatus = await this._auth.Login(email, pass);\n\n    switch (status)\n    {\n      case LoginStatus.LoggedIn: this.SetFormState(AuthFormViewState.LogedIn);\n        break;\n      case LoginStatus.UserNotFound: this.SetFormState(AuthFormViewState.UserNotFound);\n        break;\n      case LoginStatus.WrongPassword: this.SetFormState(AuthFormViewState.WrongPassword);\n        break;\n      default: this.SetFormState(AuthFormViewState.Initial);\n        break;\n    }\n  }\n\n  private async Register(email: string, pass: string): Promise<void>\n  {\n    this.SetFormState(AuthFormViewState.Registering);\n\n    let status: RegisterStatus = await this._auth.Register(email, pass);\n\n    switch (status)\n    {\n      case RegisterStatus.Registered: this.SetFormState(AuthFormViewState.LogedIn);\n        break;\n      case RegisterStatus.EmailTaken: this.SetFormState(AuthFormViewState.EmailTaken);\n        break;\n      default: this.SetFormState(AuthFormViewState.Initial);\n        break;\n    }\n  }\n\n  private Logout()\n  {\n    this._auth.Logout();\n\n    this.SetFormState(AuthFormViewState.Initial);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/auth/auth.component.ts","import { Component, OnChanges, Input, Output, EventEmitter } from '@angular/core';\n\n\n@Component({\n    selector: 'editable-once',\n    template: `\n       \n    <span *ngIf=\"!edit\" \n        (click)=\"Edit()\" \n        class=\"value-label\">\n        {{ value }}\n    </span>                                 \n\n    <span *ngIf=\"edit\" class=\"value-edit\">\n        <input type=\"text\"\n               #thisInput \n               focus=\"true\"\n               [value]=\"value\"                           \n               [placeholder]=\"placeholder\"\n               (keydown.enter)=\"OnEnterPress(thisInput.value)\"\n               (blur)=\"Abort()\" \n               (keydown.esc)=\"Abort()\">\n    </span>         \n    `,\n    styles: \n    [`\n        input { height: 20px; border: 1px solid #999; }\n    `]\n})\nexport class EditableOnceComponent  \n{\n    @Input() value: string = null;\n    @Input() placeholder: string = null;\n   \n    @Output() onComplete = new EventEmitter<string>();\n\n    private oldValue: string = null\n    private edit: boolean = false;\n    private edited = false;\n\n    Edit()\n    {\n        this.edit = true;\n        this.oldValue = this.value;\n        this.value = \"\";\n        this.edited = false;       \n    }\n  \n    OnEnterPress(value: string)\n    {\n        if (value != \"\") \n        {          \n            this.edited = true;\n\n            this.onComplete.emit(value);    \n                \n            this.value = this.oldValue;\n        }\n        else\n        {\n            this.value = this.oldValue;\n        }\n\n        this.edit = false;\n    }\n\n    Abort()\n    {       \n        if (this.edited) // keydown.enter makes blur..         \n        {           \n            return; // ..so we need to stop here\n        }\n        else\n        {\n            this.edit = false;\n\n            this.value = this.oldValue;\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/editable-once/editable-once.component.ts","import { Component, OnChanges, Input, Output, EventEmitter } from '@angular/core';\n\n\n@Component({\n    selector: 'editable-value',\n    template:\n    /*\n        Warnings:\n        (1) I think (!) that <a> tags styles are ignored by Angular in template, that's why we need to use something other here\n        (2) .value-label need 3px of extra padding if we wanna have the same height of tab independently from edit mode (label or input)\n              - or -\n            We need to change input height to smaller\n    */\n    `      \n    <span *ngIf=\"!edit\"  \n           class=\"value-label\"\n          (dblclick)=\"Edit()\">{{ value }}</span>                                 \n\n    <span *ngIf=\"edit\" \n           class=\"value-edit\">\n        <input type=\"text\"\n               #thisInput \n               focus=\"true\"\n               [value]=\"value\"                           \n               [placeholder]=\"placeholder\"\n               (keydown.enter)=\"OnEnterPress(thisInput.value)\"\n               (blur)=\"Abort()\" \n               (keydown.esc)=\"Abort()\">\n    </span>         \n    `,\n    styles:\n    [`\n        input { height: 20px; border: 1px solid #aaa; }\n    `]\n})\nexport class EditableValueComponent  \n{\n    @Input() value: string = null;\n    @Input() placeholder: string = null;\n\n    @Output() onChange = new EventEmitter<string>();\n\n    private oldValue: string = null\n    private edit: boolean = false;\n    private edited = false;\n\n    private Edit()\n    {\n        this.edit = true;\n        this.edited = false;\n        this.oldValue = this.value;\n    }\n\n    private OnEnterPress(value: string)\n    {\n        if (value != \"\") \n        {\n            if (this.value != value)\n            {\n                this.value = value;\n                this.edited = true;\n\n                this.onChange.emit(this.value);\n            }\n        }\n        else\n        {\n            this.value = this.oldValue;\n        }\n\n        this.edit = false;\n    }\n\n    private Abort()\n    {\n        if (this.edited) // keydown.enter makes blur..         \n        {\n            return; // ..so we need to stop here\n        }\n        else\n        {\n            this.edit = false;\n\n            this.value = this.oldValue;\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/editable-value/editable-value.component.ts","import { ServerException } from './../../../../../shared/errors/errors';\nimport { TabsService } from './../../services/tabs.service';\nimport { Tab } from './../../models/tab.model';\nimport { Observable } from 'rxjs/Rx';\nimport { Component, OnChanges, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { Title } from '@angular/platform-browser';\nimport { EmptyGuid } from './../../common/guid.extension';\nimport { ExceptionCode } from \"app/shared/errors/ExceptionCode\";\n\n@Component({\n    selector: 'tabs-list',\n    template: `\n\n        <ul class=\"nav nav-tabs little-margin-top\">\n\n            <li *ngIf=\"parentTab != null\" \n                [class.active]=\"selectedTab == null\" \n                (click)=\"SelectContentTab()\">\n                <a>_</a>\n            </li>\n\n            <li *ngIf=\"isLoading\"> \n                <a>Loading...</a>\n            </li>\n\n            <li *ngFor=\"let tab of tabs\"           \n                class=\"editable-tab\"    \n                [class.active]=\"tab == selectedTab\" \n                (click)=\"Select(tab)\"\n                [contextMenu]=\"tabContextMenu\"\n                [contextMenuSubject]=\"tab\">   \n                <a>  \n                    <editable-value [class.active-tab]=\"tab == selectedTab\" \n                                    [value]=\"tab.title\"\n                                    [placeholder]=\"'Title'\"\n                                    (onChange)=\"tab.title=$event; UpdateTab(tab)\">\n                    </editable-value>             \n                </a>\n            </li>\n\n            <li>   \n                <a>             \n                    <editable-once [value]=\"'(+)'\"\n                                   [placeholder]=\"'New Tab Title'\"\n                                   (onComplete)=\"AddSibiling($event)\">\n                    </editable-once>             \n                </a>\n            </li>\n \n        </ul>\n        \n        <tabs-list *ngIf=\"selectedTab != null\" \n                    [parentTab]=\"selectedTab\"\n                    (onSelect)=\"onSelect.emit($event)\">\n        </tabs-list> \n\n        <context-menu #tabContextMenu>\n            <template contextMenuItem let-item (execute)=\"TabContextMenu_DeleteTab($event)\">Delete</template>\n            <template contextMenuItem divider=\"true\"></template>\n            <template contextMenuItem let-item [enabled]=\"!HaveMovingTab()\" (execute)=\"TabContextMenu_CutTab($event)\">Cut</template>        \n            <template contextMenuItem let-item [enabled]=\"HaveMovingTab()\" (execute)=\"TabContextMenu_BindTabToParent($event)\">Paste <b>{{CuttedTabName()}}</b> as sibiling</template>\n        </context-menu>\n        \n    `,\n    styleUrls: ['tabs-list.component.css']\n})\nexport class TabsListComponent implements OnInit, OnChanges\n{\n    @Input() parentTab: Tab = null;\n    @Output() onSelect: EventEmitter<Tab> = new EventEmitter<Tab>();\n\n    private static movingTab: Tab = null; // Must be static because cutted tab can be shared between many tabs-list's\n\n    private tabs: Tab[] = [];\n    private selectedTab: Tab = null;\n    private isLoading: boolean = false;\n\n    constructor(private tabsService: TabsService, private _title: Title) { }\n\n    ngOnChanges()\n    {\n        this.selectedTab = null;\n\n        this.LoadTabs(this.parentTab);\n    }\n\n    ngOnInit()\n    {\n        if (this.parentTab == null) // Because ngOnChanges() comes first..\n        {\n            this.LoadTabs(this.parentTab);\n        }\n    }\n\n    private SelectContentTab(): void\n    {\n        if (this.selectedTab != null)\n        {\n            this.onSelect.emit(this.parentTab);\n\n            this.selectedTab = null;\n        }\n    }\n\n    private Select(tab: Tab): void\n    {\n        if (this.selectedTab != tab)\n        {\n            this.selectedTab = tab; // This will run ngOnChanges and ngOnInit\n\n            this.onSelect.emit(this.selectedTab);\n\n            this._title.setTitle(tab.title); // TODO remove from here\n        }\n    }\n\n    private async LoadTabs(parentTab: Tab): Promise<void>\n    {\n        this.isLoading = true;\n        this.tabs = [];\n\n        let parentId = parentTab != null ? parentTab.id : EmptyGuid;\n        try\n        {\n            let tabs: Tab[] = await this.tabsService.GetChildren(parentId);\n\n            this.isLoading = false;\n\n            if (TabsListComponent.movingTab != null)\n                this.tabs = tabs.filter(t => t.id != TabsListComponent.movingTab.id); // Show all but not cutted one\n            else\n                this.tabs = tabs;\n\n            // Auto open first tab in first line of tabs (with parentId=0)\n            if (this.tabs[0] != null && this.tabs[0].parentId == EmptyGuid)\n            {\n                this.Select(this.tabs[0]);\n            }\n        }\n        catch (ex)\n        {\n            if (ex.constructor.name === ServerException.name) // if (ex instanceof ServerException) - is not working here!\n            {\n                let serverException: ServerException = ex as ServerException;\n                let exceptionCode: ExceptionCode = serverException.code;\n\n                switch (exceptionCode)\n                {\n                    default: break;\n                }\n            }\n        }\n    }\n\n    private async AddSibiling(title: string): Promise<void>\n    {\n        if (title != \"\")\n        {\n            let parentId = this.parentTab != null ? this.parentTab.id : EmptyGuid;\n\n            try\n            {\n                let newTab: Tab = await this.tabsService.AddSibling(parentId, title);\n\n                this.tabs.push(newTab);\n                this.Select(newTab);\n            }\n            catch (ex)\n            {\n                if (ex.constructor.name === ServerException.name) // if (ex instanceof ServerException) - is not working here!\n                {\n                    let serverException: ServerException = ex as ServerException;\n                    let exceptionCode: ExceptionCode = serverException.code;\n\n                    switch (exceptionCode)\n                    {\n                        default: break;\n                    }\n                }\n            }\n        }\n    }\n\n    private async UpdateTab(tab: Tab)\n    {\n        console.log(\"SelectedTab:\", tab);\n\n        try\n        {\n            await this.tabsService.Update(tab);\n        }\n        catch (ex)\n        {\n            if (ex == 401) alert(\"You have no permision to edit notes!\"); // TODO err code not ex!!!\n            else\n                alert(\"Can not edit tab! Error: \" + ex);\n        }\n    }\n\n    private RemoveTab(tab: Tab): void\n    {\n        this.tabs.splice(this.tabs.indexOf(tab), 1);\n        this.SelectContentTab();\n    }\n\n    private async Delete(tab: Tab): Promise<void>\n    {\n        if (confirm(`Delete \"${ tab.title }\"?`))\n        {\n            try\n            {\n                await this.tabsService.Delete(tab.id);\n\n                this.RemoveTab(tab);\n            }\n            catch (ex)\n            {\n                if (ex.constructor.name === ServerException.name) // if (ex instanceof ServerException) - is not working here!\n                {\n                    let serverException: ServerException = ex as ServerException;\n                    let exceptionCode: ExceptionCode = serverException.code;\n\n                    switch (exceptionCode)\n                    {\n                        default: break;\n                    }\n                }\n            }\n        }\n    }\n\n    private CuttedTabName() // This is a function because template can not access static members directly\n    {\n        return (TabsListComponent.movingTab != null) ? TabsListComponent.movingTab.title : \"\";\n    }\n\n    private HaveMovingTab() // This is a function because template can not access static members directly\n    {\n        return TabsListComponent.movingTab != null;\n    }\n\n    private TabContextMenu_DeleteTab($event)\n    {\n        this.Delete($event.item);\n    }\n\n    private TabContextMenu_CutTab($event)\n    {\n        TabsListComponent.movingTab = $event.item;\n\n        console.log(`Cutting ${ TabsListComponent.movingTab.title }`);\n\n        this.RemoveTab(TabsListComponent.movingTab);\n    }\n\n    private async TabContextMenu_BindTabToParent($event): Promise<void>\n    {\n        if (TabsListComponent.movingTab != null)\n        {\n            let contextMenuTab: Tab = $event.item;\n\n            console.log(`Pasting \"${ TabsListComponent.movingTab.title }\" as child of \"${ contextMenuTab.title }\"...`);\n\n            TabsListComponent.movingTab.parentId = contextMenuTab.parentId;\n\n            await this.UpdateTab(TabsListComponent.movingTab);\n\n            this.Select(contextMenuTab);\n            this.tabs.push(TabsListComponent.movingTab);\n            this.Select(TabsListComponent.movingTab);\n\n            TabsListComponent.movingTab = null;\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/tabs-list/tabs-list.component.ts","import { TabsService } from './../../services/tabs.service';\nimport { Tab } from './../../models/tab.model';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'tabs',\n    template: `\n \n        <tabs-list (onSelect)=\"Selected($event)\"></tabs-list>\n          \n        <div id=\"textarea-box\">\n            <textarea *ngIf=\"selectedTab\" \n                      [value]=\"selectedTab.content\" \n                      (keyup)=\"content=$event.target.value\"></textarea>\n        </div>   \n\n        <div id=\"textarea-inputs-box\">  \n            <button *ngIf=\"selectedTab\" \n                    [disabled]=\"selectedTab.content==content\" \n                    (click)=\"Save()\" \n                    [innerHTML]=\"buttonText\" \n                    class=\"btn btn-primary  margin-right\">Save</button>     \n        </div>\n  \n    `,\n    styleUrls: ['tabs.component.css']\n})\nexport class DynamicTabsComponent\n{\n    private selectedTab: Tab = null;\n\n    private buttonText: string = \"Save\";\n    private content: string = \"\";\n\n\n    constructor(private _tabsService: TabsService) { }\n\n    private Selected(tab: Tab): void\n    {\n        this.selectedTab = tab;\n\n        if (tab != null)\n        {\n            console.log(\"Selected tab: \" + this.selectedTab.title + \" (id=\" + this.selectedTab.id + \")\");\n        }\n    }\n\n    private async Save(): Promise<void>\n    {\n        this.buttonText = \"Saving...\";\n\n        this.selectedTab.content = this.content;\n\n        try\n        {\n            await this._tabsService.Update(this.selectedTab);\n\n            this.buttonText = \"Save\";\n        }\n        catch (ex)\n        {\n            alert('Unable to save. Error ' + ex);\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/tabs/tabs.component.ts","export class ConnectionTimeoutException\n{\n    \n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/exceptions/ConnectionTimeoutException.ts","export class UnhandledException\n{\n    \n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/exceptions/UnhandledException.ts","import { ICommand } from './../ICommand';\nimport { guid } from 'app/common/types';\n\nexport class AddNoteCommand implements ICommand\n{\n    public id: guid;\n    public parentId: guid;\n    public title: string;\n\n    public constructor(init?: Partial<AddNoteCommand>)\n    {\n        Object.assign(this, init);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/cqrs/messages/AddNoteCommand.ts","import { ICommand } from './../ICommand';\nimport { guid } from 'app/common/types';\n\nexport class DeleteNotesCommand implements ICommand\n{\n    public id: guid;\n\n    public constructor(init?: Partial<DeleteNotesCommand>)\n    {\n        Object.assign(this, init);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/cqrs/messages/DeleteNotesCommand.ts","import { IQuery } from './../IQuery';\nimport { guid } from 'app/common/types';\nimport { Tab } from './../../../models/tab.model';\n\nexport class GetNotesQuery implements IQuery<Tab[]>\n{\n    public parentId: guid;\n\n    public constructor(init?: Partial<GetNotesQuery>)\n    {\n        Object.assign(this, init);\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/cqrs/messages/GetNotesQuery.ts","import { IQuery } from './../IQuery';\nimport { guid } from 'app/common/types';\n\nexport class LoginQuery implements IQuery<guid>\n{\n    public email: string;\n    public password: string;\n\n    public constructor(init?: Partial<LoginQuery>)\n    {\n        Object.assign(this, init);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/cqrs/messages/LoginQuery.ts","import { ICommand } from './../ICommand';\nimport { Tab } from './../../../models/tab.model';\nimport { guid } from \"app/common/types\";\n\nexport class UpdateNoteCommand implements ICommand\n{\n    public id: guid;\n    public parentId: guid;\n    public title: string;\n    public content: string;\n\n    public constructor(tab: Tab)\n    {\n        this.id = tab.id;\n        this.parentId = tab.parentId;\n        this.title = tab.title;\n        this.content = tab.content;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/cqrs/messages/UpdateNoteCommand.ts","import { IQuery } from './../IQuery';\nimport { guid } from 'app/common/types';\n\nexport class UserRegisterQuery implements IQuery<guid>\n{\n    public email: string;\n    public password: string;\n\n    public constructor(init?: Partial<UserRegisterQuery>)\n    {\n        Object.assign(this, init);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/cqrs/messages/UserRegisterQuery.ts","import { TabsService } from './services/tabs.service';\nimport { TabsListComponent } from './components/tabs-list/tabs-list.component';\nimport { EditableValueComponent } from './components/editable-value/editable-value.component';\nimport { EditableOnceComponent } from './components/editable-once/editable-once.component';\nimport { DynamicTabsComponent } from './components/tabs/tabs.component';\nimport { FocusModule } from 'angular2-focus';\nimport { Http, HttpModule } from '@angular/http';\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ContextMenuModule } from 'angular2-contextmenu';\n\n@NgModule({\n  imports: \n  [\n    FormsModule,\n    HttpModule,\n    CommonModule,\n    FocusModule.forRoot(),\n    ContextMenuModule\n  ],\n  exports:\n  [\n    DynamicTabsComponent\n  ],\n  declarations:\n  [   \n    EditableValueComponent,\n    EditableOnceComponent,\n    TabsListComponent,\n    DynamicTabsComponent\n  ],\n  providers:\n  [\n    TabsService\n  ]\n})\nexport class TabsModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/app/tabs.module.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","export enum ExceptionCode\n{\n    UnhandledException = 1,\n    CanNotResolveMessage,\n    CanNotResolveMessageHandler,\n    Unauthorized,\n    WrongPassword,\n    EmailTaken,\n    UserNotExists,\n    NoPermission,\n    InvalidUserEmail,\n    InvalidUserPassword,\n    InvalidNoteTitle,\n    ValidationProblem\n}\n\n\n\n// WEBPACK FOOTER //\n// ../shared/errors/ExceptionCode.ts","import { OK, UNAUTHORIZED, INTERNAL_SERVER_ERROR, BAD_REQUEST } from \"http-status-codes\";\nimport { ExceptionCode } from \"./ExceptionCode\";\n\nexport class ServerException\n{\n    code: ExceptionCode;\n    message: string; // for client\n    httpStatus: number;\n    extra?: any; // additional payload, for example a validation particular message \n\n    public constructor(init?: Partial<any>)\n    {\n        Object.assign(this, init);\n    }\n}\n\nexport const SERVER_EXCEPTIONS: ServerException[] =\n    [\n        { code: ExceptionCode.UnhandledException, message: \"Unhandled exception\", httpStatus: INTERNAL_SERVER_ERROR },\n        { code: ExceptionCode.CanNotResolveMessage, message: \"Unknown message\", httpStatus: BAD_REQUEST },\n        { code: ExceptionCode.CanNotResolveMessageHandler, message: \"No handler for message\", httpStatus: BAD_REQUEST },\n        { code: ExceptionCode.Unauthorized, message: \"Unauthorized\", httpStatus: UNAUTHORIZED },\n        { code: ExceptionCode.WrongPassword, message: \"Wrong password\", httpStatus: UNAUTHORIZED },\n        { code: ExceptionCode.EmailTaken, message: \"Email already taken\", httpStatus: UNAUTHORIZED },\n        { code: ExceptionCode.UserNotExists, message: \"User not exists\", httpStatus: UNAUTHORIZED },\n        { code: ExceptionCode.NoPermission, message: \"No permission\", httpStatus: UNAUTHORIZED },   \n        { code: ExceptionCode.InvalidUserEmail, message: \"Invalid user email\", httpStatus: UNAUTHORIZED },\n        { code: ExceptionCode.InvalidUserPassword, message: \"Invalid user password\", httpStatus: UNAUTHORIZED },\n        { code: ExceptionCode.InvalidNoteTitle, message: \"Invalid note title\", httpStatus: UNAUTHORIZED },\n        { code: ExceptionCode.ValidationProblem, message: \"Validation problem\", httpStatus: BAD_REQUEST }\n    ];\n\n\n// WEBPACK FOOTER //\n// ../shared/errors/errors.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"tabs\\n{\\n    -webkit-box-flex: 1;\\n    -ms-flex: 1;\\n        flex: 1;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: column;\\n            flex-direction: column;\\n    height: 100%; \\n}\\n\\n.header \\n{  \\n    display: -webkit-box;  \\n    display: -ms-flexbox;  \\n    display: flex;\\n    -webkit-box-pack: justify;\\n        -ms-flex-pack: justify;\\n            justify-content: space-between; \\n    background: #333;\\n    margin: 0;\\n    padding: 12px;\\n}\\n\\n.header span.title \\n{ \\n    -webkit-box-flex: 1; \\n        -ms-flex: 1; \\n            flex: 1; \\n    font-size: 24px; \\n    color: #eee;   \\n    margin: 0;\\n    padding: 0; \\n}\\n\\n.header auth\\n{\\n    -webkit-box-flex: 2;\\n        -ms-flex: 2;\\n            flex: 2;   \\n    text-align: right;\\n}\\n\\n.margin-top \\n{ \\n    margin-top: 72px;\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 248\n// module chunks = 1","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".active-tab\\n{\\n    font-weight: bold;\\n}\\n\\n.little-margin-top\\n{\\n    margin-top: 12px;\\n}\\n  \\nul li,\\nul li a\\n{\\n    cursor: pointer;\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/tabs-list/tabs-list.component.css\n// module id = 249\n// module chunks = 1","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"#textarea-box\\n{\\n    -webkit-box-flex: 1;\\n        -ms-flex: 1;\\n            flex: 1; \\n    display: -webkit-box; \\n    display: -ms-flexbox; \\n    display: flex;\\n}\\n\\ntextarea \\n{ \\n    -webkit-box-flex: 1; \\n        -ms-flex: 1; \\n            flex: 1;\\n    width: 98%; \\n    margin: 12px 1%; \\n    padding: 12px; \\n    border: 1px solid #ddd;\\n} \\n\\n#textarea-inputs-box\\n{\\n    text-align: right;\\n}\\n\\n#textarea-inputs-box button\\n{ \\n    margin: 0 1% 12px \\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/tabs/tabs.component.css\n// module id = 250\n// module chunks = 1","import { ServerException } from './../shared/errors/errors';\nimport { CqrsBus } from './cqrs/CqrsBus';\nimport { guid } from 'app/common/types';\nimport { StorageService } from './storage.service';\nimport { Observable } from 'rxjs/Observable';\nimport { Injectable, OnInit } from '@angular/core';\nimport { Subject } from \"rxjs/Subject\";\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\nimport { UserRegisterQuery, LoginQuery } from \"app/services/cqrs/messages\";\nimport Validator from 'better-validator';\nimport { ExceptionCode } from \"../shared/errors/ExceptionCode\";\n\nexport enum LoginStatus { LoggedIn, UserNotFound, WrongPassword, EmptyInput, ConnectionProblem }\nexport enum RegisterStatus { Registered, EmailTaken, ConnectionProblem }\n\n\n@Injectable()\nexport class AuthService\n{\n    private loginStatus: Subject<boolean>;\n\n    constructor(private _cqrs: CqrsBus, private _storage: StorageService)\n    {\n        console.log(\"User is \" + (this.IsLoggedIn() ? \"logged in with token \" + this._storage.GetSessionToken() : \"not logged in\"));\n\n        this.loginStatus = new Subject();\n    }\n\n    public get LoginStatusChanged(): Subject<boolean>\n    {\n        return this.loginStatus;\n    }\n\n    public IsLoggedIn(): boolean\n    {\n        return (this._storage.GetSessionToken() !== null);\n    }\n\n    public async Login(email: string, pass: string): Promise<LoginStatus>\n    {\n        try\n        {\n            // if (email === '' || pass === '') // TODO: real validation\n            // {\n            //     return LoginStatus.EmptyInput;\n            // }\n            //throw new ServerException();\n            let tokenDTO = await this._cqrs.Send(new LoginQuery({ email: email, password: pass }));\n\n            console.log(\"Token: \" + tokenDTO.token);\n\n            this._storage.SetSessionToken(tokenDTO.token);\n\n            this.loginStatus.next(true);\n\n            return LoginStatus.LoggedIn;\n        }\n        catch (ex)\n        {\n            console.log(\"Login exception: \", ex);\n\n            if (ex instanceof ServerException)\n            {\n                let serverException: ServerException = ex as ServerException;\n\n                console.log(\"SERVER EX: \", serverException);\n\n                switch (serverException.code) // TODO\n                {\n                    case ExceptionCode.UserNotExists: return LoginStatus.UserNotFound;\n                    case ExceptionCode.WrongPassword: return LoginStatus.WrongPassword;\n                    default: return LoginStatus.ConnectionProblem;\n                }\n            }\n            else \n            {\n                console.log(\"OTHER EX\");\n                return LoginStatus.ConnectionProblem;\n            }\n        }\n    }\n\n\n    public async Register(email: string, pass: string): Promise<RegisterStatus>\n    {\n        try\n        {\n            let tokenDTO = await this._cqrs.Send(new UserRegisterQuery({ email: email, password: pass }));\n\n            console.log(\"Token:\", tokenDTO.token);\n\n            this._storage.SetSessionToken(tokenDTO.token);\n\n            this.loginStatus.next(true);\n\n            return RegisterStatus.Registered;\n        }\n        catch (ex)\n        {\n            console.log(\"Register exception: \", ex);\n\n            if (ex instanceof ServerException)\n            {\n                let serverException: ServerException = ex as ServerException;\n\n                console.log(\"SERVER EX: \", serverException);\n\n                switch (serverException.code) // TODO\n                {\n                    case ExceptionCode.EmailTaken: return RegisterStatus.EmailTaken;\n                    default: return RegisterStatus.ConnectionProblem;\n                }\n            }\n            else \n            {\n                console.log(\"OTHER EX\");\n                return RegisterStatus.ConnectionProblem;\n            }\n        }\n    }\n\n    public Logout(): void\n    {\n        this._storage.SetSessionToken('');\n        this.loginStatus.next(false);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/AuthService.ts","import { ConnectionTimeoutException } from './../../exceptions/ConnectionTimeoutException';\nimport { UnhandledException } from './../../exceptions/UnhandledException';\nimport { IQuery } from './IQuery';\nimport { ICommand } from './ICommand';\nimport { SnackService } from './../ErrorService';\nimport { MdSnackBar } from '@angular/material';\nimport { Http, RequestOptions, Headers, Response } from '@angular/http';\nimport { Injectable } from '@angular/core';\nimport { StorageService } from './../storage.service';\nimport { TimeoutError } from \"rxjs\";\nimport { ServerException } from \"../../shared/errors/errors\";\n\n@Injectable()\nexport class CqrsBus\n{\n    private API: string = 'api/cqrsbus';\n\n    constructor(\n        private _http: Http,\n        private _storage: StorageService,\n        private _snackService: SnackService)\n    {\n        if (!!process.env.PORT) // Production/Heroku enviroment\n        {\n            console.log(\"Production host\");\n\n            this.API = 'api/cqrsbus';   \n        }\n        else // Development/Local enviroment\n        {\n            console.log(\"Local host\");\n\n            this.API = 'http://localhost:3000/api/cqrsbus';\n        }\n    }\n\n\n    public async Send(message: ICommand | IQuery<any>): Promise<any>\n    {\n        // if (1) throw new ServerException();\n     \n        // Message class ---into---> { class_name: { class_fields }}\n        const messagePackage = {};\n        messagePackage[message.constructor.name] = message;\n        const messageAsJson = JSON.stringify(messagePackage);\n\n        console.log('Sending message:', messageAsJson);\n\n\n        const headers = new Headers(\n            {\n                'Content-type': 'application/json',\n                'Authorization': this._storage.GetSessionToken()\n            });\n        const options = new RequestOptions({ headers: headers });\n\n        try\n        {\n            let response: Response = await this._http.post(this.API, messageAsJson, options).timeout(3000).toPromise();\n            console.log('POST Response:',response);\n\n            if (response.text() !== '')\n            {\n                let responseAsObject = response.json();\n\n                console.log('Message result: ' + JSON.stringify(responseAsObject));\n\n                return responseAsObject;\n            }\n            else \n            {\n                console.log('Message result: (empty)');\n\n                return null;\n            }\n        }\n        catch (ex) // Jump here in case of non 200 respond\n        {\n            console.log('[CQRS Bus] ex:', ex);\n\n            if (ex instanceof TimeoutError) // We don't get here if server is disabled\n            {\n                console.log(\"TIMEOUT\");\n                this._snackService.Error(\"Connection timeout\");\n\n                throw new ConnectionTimeoutException();\n            }\n            else if (ex instanceof Response)\n            {\n                if (ex.status === 0) // We get here if server is disabled\n                {\n                    this._snackService.Error(\"Server is not responding\");\n                    // throw new ServerNonResponsiveException();\n                }\n                else\n                {\n                    let serverException: ServerException = ex.json();\n\n                    console.log('[CQRS.Send] ServerException: ', serverException);\n                    this._snackService.Error(serverException.message);\n\n                    throw new ServerException(serverException);\n                    //throw serverException;\n                }\n            }\n            else \n            {\n                console.log(\"Unhandled exception type\");\n                this._snackService.Error('Unhandled exception');\n                throw new UnhandledException();\n            }\n        }\n\n\n        // return this._http\n        //     .post(this.API, messageAsJson, options)\n        //     .map(response =>\n        //     {\n        //         if (response.text() !== '')\n        //         {\n        //             return response.json();\n        //         }\n        //         else \n        //         {\n        //             return null;\n        //         }\n        //     })\n        //     .do(x => \n        //     {\n        //         console.log('[CQRS.Send] Message result: ' + JSON.stringify(x))\n        //     })\n        //     .catch((e, c) =>\n        //     {\n        //         console.log('[CQRS.Send] Message exception: ', e);\n\n        //         return Observable.throw(e.status);\n        //     });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/cqrs/CqrsBus.ts","import { guid } from 'app/common/types';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class StorageService\n{\n    private SESSION_TOKEN_NAME = \"session_token\";\n\n    constructor()\n    {\n        if (typeof (Storage) === \"undefined\")\n        {\n            console.log(\"STORAGE IS UNAVALIABLE!\");\n        }\n    }\n\n    public SetSessionToken(token: guid): void\n    {\n        localStorage.setItem(this.SESSION_TOKEN_NAME, token);\n    }\n    public ClearSessionToken(): void\n    {\n        localStorage.setItem(this.SESSION_TOKEN_NAME, '');\n    }\n\n    public GetSessionToken(): guid | null\n    {\n        let token: string = localStorage.getItem(this.SESSION_TOKEN_NAME);\n  \n        if (token === '') token = null;\n\n        return token;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/storage.service.ts","import { ServerException } from './../../../../shared/errors/errors';\nimport { CqrsBus } from './cqrs/CqrsBus';\nimport { Tab } from './../models/tab.model';\nimport { guid } from 'app/common/types';\nimport { Http, URLSearchParams, RequestOptionsArgs, ResponseContentType, Headers, Response } from '@angular/http';\nimport { Observable } from 'rxjs/Rx';\nimport { Injectable } from '@angular/core';\nimport { UUID } from \"angular2-uuid\";\nimport { GetNotesQuery, AddNoteCommand, UpdateNoteCommand, DeleteNotesCommand } from \"app/services/cqrs/messages\";\n\n@Injectable()\nexport class TabsService\n{\n    constructor(private _cqrs: CqrsBus) { }\n\n    public async GetChildren(parentId: guid): Promise<Tab[]>\n    {\n        return await this._cqrs.Send(new GetNotesQuery({ parentId: parentId }));\n    }\n\n    public async AddSibling(parentId: guid, title: string): Promise<Tab>\n    {\n        const id: guid = UUID.UUID();\n        const tab = new Tab();\n\n        tab.id = id;\n        tab.parentId = parentId;\n        tab.title = title;\n        tab.content = '';\n\n        await this._cqrs.Send(new AddNoteCommand({ id: id, parentId: parentId, title: title }));\n\n        return tab; // TODO add try catch\n    }\n\n    public async Update(tab: Tab): Promise<void>\n    {\n        return await this._cqrs.Send(new UpdateNoteCommand(tab));\n    }\n\n    public async Delete(id: guid): Promise<void>\n    {\n        return await this._cqrs.Send(new DeleteNotesCommand({ id: id }));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/tabs.service.ts","import { guid } from 'app/common/types';\n\nexport class Tab // equivalent of NoteDto in backend API\n{\n    public id: guid;\n    public parentId: guid;\n    public title: string;\n    public content: string;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/tab.model.ts","import { Injectable } from '@angular/core';\nimport { MdSnackBar } from '@angular/material';\n\n@Injectable()\nexport class SnackService\n{\n    constructor(private _snack: MdSnackBar)\n    {\n\n    }\n\n    public Error(message: string)\n    {\n        console.log(\"snack: \"+message);\n        this._snack.open(message, null, { duration: 2500, extraClasses: [\"red-alert\"] });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/ErrorService.ts","import { UserRegisterQuery } from './UserRegisterQuery';\nimport { LoginQuery } from './LoginQuery';\nimport { DeleteNotesCommand } from './DeleteNotesCommand';\nimport { UpdateNoteCommand } from './UpdateNoteCommand';\nimport { GetNotesQuery } from './GetNotesQuery';\nimport { AddNoteCommand } from './AddNoteCommand';\n\nexport { UserRegisterQuery, LoginQuery, AddNoteCommand, UpdateNoteCommand, GetNotesQuery, DeleteNotesCommand };\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/cqrs/messages/index.ts","export enum ExceptionCode\n{\n    UnhandledException = 1,\n    CanNotResolveMessage,\n    CanNotResolveMessageHandler,\n    Unauthorized,\n    WrongPassword,\n    EmailTaken,\n    UserNotExists,\n    NoPermission,\n    InvalidUserEmail,\n    InvalidUserPassword,\n    InvalidNoteTitle,\n    ValidationProblem\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/errors/ExceptionCode.ts","import { OK, UNAUTHORIZED, INTERNAL_SERVER_ERROR, BAD_REQUEST } from \"http-status-codes\";\nimport { ExceptionCode } from \"./ExceptionCode\";\n\nexport class ServerException\n{\n    code: ExceptionCode;\n    message: string; // for client\n    httpStatus: number;\n    extra?: any; // additional payload, for example a validation particular message \n\n    public constructor(init?: Partial<any>)\n    {\n        Object.assign(this, init);\n    }\n}\n\nexport const SERVER_EXCEPTIONS: ServerException[] =\n    [\n        { code: ExceptionCode.UnhandledException, message: \"Unhandled exception\", httpStatus: INTERNAL_SERVER_ERROR },\n        { code: ExceptionCode.CanNotResolveMessage, message: \"Unknown message\", httpStatus: BAD_REQUEST },\n        { code: ExceptionCode.CanNotResolveMessageHandler, message: \"No handler for message\", httpStatus: BAD_REQUEST },\n        { code: ExceptionCode.Unauthorized, message: \"Unauthorized\", httpStatus: UNAUTHORIZED },\n        { code: ExceptionCode.WrongPassword, message: \"Wrong password\", httpStatus: UNAUTHORIZED },\n        { code: ExceptionCode.EmailTaken, message: \"Email already taken\", httpStatus: UNAUTHORIZED },\n        { code: ExceptionCode.UserNotExists, message: \"User not exists\", httpStatus: UNAUTHORIZED },\n        { code: ExceptionCode.NoPermission, message: \"No permission\", httpStatus: UNAUTHORIZED },   \n        { code: ExceptionCode.InvalidUserEmail, message: \"Invalid user email\", httpStatus: UNAUTHORIZED },\n        { code: ExceptionCode.InvalidUserPassword, message: \"Invalid user password\", httpStatus: UNAUTHORIZED },\n        { code: ExceptionCode.InvalidNoteTitle, message: \"Invalid note title\", httpStatus: UNAUTHORIZED },\n        { code: ExceptionCode.ValidationProblem, message: \"Validation problem\", httpStatus: BAD_REQUEST }\n    ];\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/errors/errors.ts"],"sourceRoot":""}